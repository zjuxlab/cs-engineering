"use strict";(self.webpackChunkcs_engineering=self.webpackChunkcs_engineering||[]).push([[288],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>g});var a=n(96540);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var i=a.createContext({}),c=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(i.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,s=e.originalType,i=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),d=c(n),m=l,g=d["".concat(i,".").concat(m)]||d[m]||u[m]||s;return n?a.createElement(g,o(o({ref:t},p),{},{components:n})):a.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var s=n.length,o=new Array(s);o[0]=m;var r={};for(var i in t)hasOwnProperty.call(t,i)&&(r[i]=t[i]);r.originalType=e,r[d]="string"==typeof e?e:l,o[1]=r;for(var c=2;c<s;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},67546:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var a=n(58168),l=(n(96540),n(15680));const s={title:"Streamlit",slug:"Streamlit",sidebar_position:0},o="Streamlit",r={unversionedId:"\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u524d\u7aef\u6280\u672f/\u524d\u7aef\u8fdb\u9636/\u53ef\u89c6\u5316/Streamlit/Streamlit",id:"\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u524d\u7aef\u6280\u672f/\u524d\u7aef\u8fdb\u9636/\u53ef\u89c6\u5316/Streamlit/Streamlit",title:"Streamlit",description:"Author\uff1aNA",source:"@site/docs/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u524d\u7aef\u6280\u672f/\u524d\u7aef\u8fdb\u9636/\u53ef\u89c6\u5316/Streamlit/Streamlit.md",sourceDirName:"\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u524d\u7aef\u6280\u672f/\u524d\u7aef\u8fdb\u9636/\u53ef\u89c6\u5316/Streamlit",slug:"/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u524d\u7aef\u6280\u672f/\u524d\u7aef\u8fdb\u9636/\u53ef\u89c6\u5316/Streamlit/Streamlit",permalink:"/cs-engineering/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u524d\u7aef\u6280\u672f/\u524d\u7aef\u8fdb\u9636/\u53ef\u89c6\u5316/Streamlit/Streamlit",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u524d\u7aef\u6280\u672f/\u524d\u7aef\u8fdb\u9636/\u53ef\u89c6\u5316/Streamlit/Streamlit.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"Streamlit",slug:"Streamlit",sidebar_position:0},sidebar:"sidebar",previous:{title:"\u53ef\u89c6\u5316",permalink:"/cs-engineering/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u524d\u7aef\u6280\u672f/\u524d\u7aef\u8fdb\u9636/\u53ef\u89c6\u5316/\u53ef\u89c6\u5316"},next:{title:"\u6570\u636e\u57cb\u70b9",permalink:"/cs-engineering/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u524d\u7aef\u6280\u672f/\u524d\u7aef\u8fdb\u9636/\u6570\u636e\u57cb\u70b9/\u6570\u636e\u57cb\u70b9"}},i={},c=[{value:"Write in Front",id:"write-in-front",level:2},{value:"Files",id:"files",level:2},{value:"Upload Files",id:"upload-files",level:3},{value:"Dataframes",id:"dataframes",level:2},{value:"dataframe &amp; table",id:"dataframe--table",level:3},{value:"line_chart",id:"line_chart",level:3},{value:"Static Elements",id:"static-elements",level:2},{value:"slider",id:"slider",level:3},{value:"button",id:"button",level:3},{value:"checkbox",id:"checkbox",level:3},{value:"selectbox",id:"selectbox",level:3},{value:"echo",id:"echo",level:3},{value:"spinner",id:"spinner",level:3},{value:"an Example",id:"an-example",level:3},{value:"Session State",id:"session-state",level:2},{value:"assignment",id:"assignment",level:3},{value:"traversal",id:"traversal",level:3},{value:"connect to element",id:"connect-to-element",level:3},{value:"Data Flow",id:"data-flow",level:2},{value:"Caching",id:"caching",level:2},{value:"st.cache_data",id:"stcache_data",level:3},{value:"st.cache_resource",id:"stcache_resource",level:3},{value:"Page Layout",id:"page-layout",level:2},{value:"sidebar",id:"sidebar",level:3},{value:"columns",id:"columns",level:3},{value:"expander",id:"expander",level:3},{value:"Theme",id:"theme",level:2},{value:"Chatbot",id:"chatbot",level:2}],p={toc:c},d="wrapper";function u(e){let{components:t,...n}=e;return(0,l.yg)(d,(0,a.A)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.yg)("h1",{id:"streamlit"},"Streamlit"),(0,l.yg)("p",null,"Author\uff1aNA"),(0,l.yg)("ol",null,(0,l.yg)("li",{parentName:"ol"},"Write in Front"),(0,l.yg)("li",{parentName:"ol"},"Files"),(0,l.yg)("li",{parentName:"ol"},"Dataframes"),(0,l.yg)("li",{parentName:"ol"},"Static Elements"),(0,l.yg)("li",{parentName:"ol"},"Session"),(0,l.yg)("li",{parentName:"ol"},"Data Flow"),(0,l.yg)("li",{parentName:"ol"},"Caching"),(0,l.yg)("li",{parentName:"ol"},"Page Layout"),(0,l.yg)("li",{parentName:"ol"},"Theme"),(0,l.yg)("li",{parentName:"ol"},"Chatbot")),(0,l.yg)("p",null,"The"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"import streamlit as st\nimport pandas as pd     # read files\n")),(0,l.yg)("p",null,"Streamlit is much more like a purely frontend project in my point of view for there're no GET, POST, ect. methods mentioned."),(0,l.yg)("p",null,"That is to say, when using streamlit, we tend to embed the whole project backend(what we intend to implement normally), ranging from SQL to web server, into the frontend framework."),(0,l.yg)("h2",{id:"write-in-front"},"Write in Front"),(0,l.yg)("p",null,"Streamlit is more a fronted script embedded into backend than a pure fronted, without POST, GET, ect."),(0,l.yg)("p",null,"When you are to arranging elements into a page, the element set by statement at the same ident level are visually in parallel. That is to say, though each code block is run one by one (randered one by one), each element only differs in position, which means the ident level depends the location of the element."),(0,l.yg)("p",null,'notatioin: "element" refers to such as "button", "selectbox", ect.'),(0,l.yg)("h2",{id:"files"},"Files"),(0,l.yg)("h3",{id:"upload-files"},"Upload Files"),(0,l.yg)("p",null,"first we can try a simple example"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},'st.text("hello streamlit")\n')),(0,l.yg)("p",null,"The code above should be run by using command"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"streamlit run <name>.py\n")),(0,l.yg)("p",null,"to send it to localhost network, or"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"python -m streanlit run <name>.py\n")),(0,l.yg)("p",null,"as well as python file online"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"streamlit run https://raw.githubusercontent.com/streamlit/demo-uber-nyc-pickups/master/streamlit_app.py\n")),(0,l.yg)("p",null,"UploadFile:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"uploads = st.file_uploader('excel_file', type['xlsx'])\n")),(0,l.yg)("p",null,"e.g. - how to upload image files"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"img_file = st.file_uploader()\n")),(0,l.yg)("h2",{id:"dataframes"},"Dataframes"),(0,l.yg)("p",null,"We should learn to display python elements on a websites via streamlit package"),(0,l.yg)("p",null,"write"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"st.write(<_type_>)\n")),(0,l.yg)("p",null,"e.g."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"st.write('here\\'s your attempt\\n')\nst.write(\n    pd.DataFrame({\n        'A': [1,2,3,4],\n        'B': [10,20,30,40]\n    })\n)\n")),(0,l.yg)("p",null,"elements typed data_fram, error, module, function, dict, ect. are all allowed"),(0,l.yg)("p",null,"for more convenient, we can write like this in python source file:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"'hello streamlit --- ', st.session_state\n")),(0,l.yg)("p",null,"When running, it will be printed successfully. (resembles in jupyter)"),(0,l.yg)("p",null,"'write' method will inspect the elements' type set in parenthesis and choose the best way to render it to the app / web. So if the efficiency is needed, use the following ways."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"st.dataframe(<pd.DataFrame type>)\nst.table(<pd.DataFrame type>)   # for static table generation\n")),(0,l.yg)("h3",{id:"dataframe--table"},"dataframe & table"),(0,l.yg)("p",null,"some style details:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"df = = pd.DataFrame(\n    np.random.randn(10, 20),\n    columns=('col %d' % i for i in range(20)))      # declaration\nst.dataframe(df.style.highlight_max(axis=0))    # the maximum value will be rendered highlights\n")),(0,l.yg)("p",null,"style details can be set in parameter st.column_config "),(0,l.yg)("h3",{id:"line_chart"},"line_chart"),(0,l.yg)("p",null,"From examples above we can learn that streamlit always recieve a element typed DataFrame. If we wanna draw a line chart, just use ",(0,l.yg)("inlineCode",{parentName:"p"},"st.line_chart()")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"import numpy as np\ndf = pd.DataFrame(\n    np.random(20,3),\n    columns=['A','B','C']\n)\nst.line_chart(df)\n")),(0,l.yg)("p",null,"Ccharts will be rendered from DataFrame type in streamlit kernel, so as the type map via st.map()"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-html"},"md = pd.DataFrame(\n    np.random.randn(1000, 2) / [50, 50] + [37.76, -122.4],\n    columns=['A','B']\n)       # DataFrame type\nst.map(md)\n")),(0,l.yg)("p",null,"It is to locate the points coresponds to its coordination on world map."),(0,l.yg)("h2",{id:"static-elements"},"Static Elements"),(0,l.yg)("p",null,"We are in need of getting values from frontend, which is called 'widgets'. In streamit there provides three kinds of elements: slider, button, selectbox"),(0,l.yg)("h3",{id:"slider"},"slider"),(0,l.yg)("p",null,"e.g."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"x = st.slider(label='alpha')        # 'x' is the variable name while 'alpha' is the text displayed on frontend.\nst.write(x, 'squared is', x * x)    # resambles \"print\"\n")),(0,l.yg)("p",null,"(Integer valus exceeding +/- (1","<","<","53)-1 ) cannot be accurately stored or returned by the widget due to serialization constraints between Python server ad Javascript cliend."),(0,l.yg)("p",null,"Function Signature"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},'st.slider(label, min_value=None, max_value=None, value=None, step=None, format=None, key=None, help=None, on_change=None, args=None, kwargs=None, *, disabled=False, label_visibility="visible")\n')),(0,l.yg)("h3",{id:"button"},"button"),(0,l.yg)("p",null,"Function Signature"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},'st.button(label, key=None, help=None, on_click=None, args=None, kwargs=None, *, type="secondary", disabled=False, use_container_width=False) -> bool\n')),(0,l.yg)("p",null,"Usage example:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"if st.button('Say hello'):\n    st.write('Why hello there')\nelse:\n    st.write('Goodbye')\n")),(0,l.yg)("p",null,"It's a boolean variable and we set the action to be done via logical judgement."),(0,l.yg)("h3",{id:"checkbox"},"checkbox"),(0,l.yg)("p",null,"It is used to toggle a conditional statement"),(0,l.yg)("p",null,"Function Signature"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},'st.checkbox(label, value=False, key=None, help=None, on_change=None, args=None, kwargs=None, *, disabled=False, label_visibility="visible") -> bool\n')),(0,l.yg)("p",null,"example:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"import streamlit as st\nagree = st.checkbox('I agree')\nif agree:\n    st.write('Great!')\n")),(0,l.yg)("h3",{id:"selectbox"},"selectbox"),(0,l.yg)("p",null,"Function Signature"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},'st.selectbox(label, options, index=0, format_func=special_internal_function, key=None, help=None, on_change=None, args=None, kwargs=None, *, placeholder="Select...", disabled=False, label_visibility="visible")\n')),(0,l.yg)("p",null,"In options, ","[Sequence, numpy.ndarray, pandas.Series, pandas.DataFrame, pandas.Index]"," are allowed."),(0,l.yg)("h3",{id:"echo"},"echo"),(0,l.yg)("p",null,"Function Signature"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},'st.echo(code_location="above")\n')),(0,l.yg)("p",null,"It is to decide whether to show the choed code before or after the results of the executed code block."),(0,l.yg)("p",null,"e.g."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"with st.echo():\n    st.write('This code will be printed')\n")),(0,l.yg)("p",null,"Everything inside the st.echo block will be both printed to the screen and executed."),(0,l.yg)("p",null,"It's that simple!"),(0,l.yg)("h3",{id:"spinner"},"spinner"),(0,l.yg)("p",null,"Function signature"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},'st.spinner(text="In progress...")\n')),(0,l.yg)("p",null,"for example:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"with st.spinner('Wait for it...'):\n    time.sleep(5)\nst.success('Done!')\n")),(0,l.yg)("p",null,"It handles a message to display while executing the clock inside."),(0,l.yg)("h3",{id:"an-example"},"an Example"),(0,l.yg)("p",null,"let's have a look at an example:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},'import pandas as pd\nimport streamlit as st\n\n# Cache the dataframe so it\'s only loaded once\n@st.cache_data\ndef load_data():\n    return pd.DataFrame(\n        {\n            "first column": [1, 2, 3, 4],\n            "second column": [10, 20, 30, 40],\n        }\n    )\n\n# Boolean to resize the dataframe, stored as a session state variable\nst.checkbox("Use container width", value=False, key="use_container_width")\n\ndf = load_data()\n\n# Display the dataframe and allow the user to stretch the dataframe\n# across the full width of the container, based on the checkbox value\nst.dataframe(df, use_container_width=st.session_state.use_container_width)\n')),(0,l.yg)("p",null,"It seems that the 'key' value set in st.checkbox is related to st.dataframe. Or other, parameter 'use_container_width' in st.dataframe was connected to st.checkbox due to the key parameter has been set as the same name."),(0,l.yg)("h2",{id:"session-state"},"Session State"),(0,l.yg)("p",null,"Each time someone opened your app will start a new session and the newly started session will captured by us. And each session is independent."),(0,l.yg)("p",null,"The function of Session State is to store parameters in each session."),(0,l.yg)("h3",{id:"assignment"},"assignment"),(0,l.yg)("p",null,"When the app rerun, we can set session just like dict."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},'st.session_state:\n{\n    "key": "value"\n}\n')),(0,l.yg)("p",null,"so goes: we should check if one key is in session_state:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},"if 'counter' not in st.session_state:\n    st.session_state['counter'] = 0\n")),(0,l.yg)("p",null,"Another exaple (another format):"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},"if 'boolean' not in st.session_state:\n    st.session_state.boolean = False\n")),(0,l.yg)("p",null,"Thus, variable has been decalred. Show them:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},"st.write(st.session_state)      # output will in the format of python dict\n")),(0,l.yg)("h3",{id:"traversal"},"traversal"),(0,l.yg)("p",null,"traverse keys:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},"for the_key in st.session_state.keys():\n    pass\n")),(0,l.yg)("p",null,"traverse valus:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},"for the_value in st.session_state.values():\n    pass\n")),(0,l.yg)("p",null,"traverse items:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},"for the_item in st.session_state.items():\n    pass\n")),(0,l.yg)("p",null,"delete key:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},"del st.sessiong_state['a_key']\n")),(0,l.yg)("p",null,"just like the dict"),(0,l.yg)("h3",{id:"connect-to-element"},"connect to element"),(0,l.yg)("p",null,"API function, method with parameter 'key' all can be connected. For example:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},"col1, buff, col2 = st.beta_columns([1,0,5,3])\noption_names = ['a','b','c']\n\noption = col1.radio('Pick an option', option_names, key='radio_option')\n")),(0,l.yg)("p",null,"if we omitted key parameter, it will be generated for the widget based on its content."),(0,l.yg)("h2",{id:"data-flow"},"Data Flow"),(0,l.yg)("p",null,"Sometimes we want to check elements' work state, thus using callback mechanism."),(0,l.yg)("p",null,"Callback can be used with widgets using the parameters on_change and on_click, or simply args and kargs."),(0,l.yg)("p",null,"Widgets which support the on_change event: checkbox, color_picker, date_input, multiselect, number_input, radio, select_slider, selectbox, slider, text_area, text_input, time_input, file_uploader."),(0,l.yg)("p",null,"Widgets which support the on_click event: button, download_button, form_submit_button"),(0,l.yg)("p",null,"The distinction between above two is that they respond to operations differently."),(0,l.yg)("p",null,"We should decalre the coresponding callback functions to implement a certain callback."),(0,l.yg)("p",null,"e.g."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"def form_callback():\n    st.write(st.session_state.my_slider)\n    st.write(st.session_state.my_checkbox)\n    #  previously set session_state\n\nwith st.form(key='my_form'):\n    slider_input = st.slider('My slider', 0, 10, 5, key='my_slider')\n    checkbox_input = st.checkbox('Yes or No', key='my_checkbox')\n    submit_button = st.form_submit_button(label='Submit', on_click=form_callback)\n")),(0,l.yg)("p",null,"As soon as the element responds to our operation, callback function will be execute. We usually use callback to check the information."),(0,l.yg)("h2",{id:"caching"},"Caching"),(0,l.yg)("p",null,"Cache accelerate the program and allows the app to stay performant even when loading data from web, manipulating large datasets, or performing expensive computations."),(0,l.yg)("p",null,"To cache a function in Streamlit, you need to decorate it with one of two decorators (st.cache_data and st.cache_resource):"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"@st.cache_data\ndef long_running_function(param1, param2):\n    pass\n")),(0,l.yg)("p",null,"If this is the first time Streamlit sees these parameter values and function code, it runs the function and stores the return value in a cache. The next time the function is called with the same parameters and code (e.g., when a user interacts with the app), Streamlit will skip executing the function altogether and return the cached value instead. During development, the cache updates automatically as the function code changes, ensuring that the latest changes are reflected in the cache."),(0,l.yg)("h3",{id:"stcache_data"},"st.cache_data"),(0,l.yg)("p",null,"Each time loading data from disk can add caching method and set ttl"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"@st.cache_data(ttl=3600)\ndef api_call():\n    response = requests.get('https://jsonplaceholder.typicode.com/posts/1')\n    return response.json()\n")),(0,l.yg)("p",null,"where ttl=3600 tells streamlit invalidates any cached values after 1hour(3600 seconds) and runs the cached function again."),(0,l.yg)("h3",{id:"stcache_resource"},"st.cache_resource"),(0,l.yg)("p",null,"An AI developer should be accustomed to this, which is widely used when loading a model for example"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},'from transformers import pipeline\n@st.cache_resource  # \ud83d\udc48 Add the caching decorator\ndef load_model():\n    return pipeline("sentiment-analysis")\nmodel = load_model()\nquery = st.text_input("Your query", value="I love Streamlit! \ud83c\udf88")\nif query:\n    result = model(query)[0]  # \ud83d\udc48 Classify the query text\n    st.write(result)\n')),(0,l.yg)("h2",{id:"page-layout"},"Page Layout"),(0,l.yg)("h3",{id:"sidebar"},"sidebar"),(0,l.yg)("p",null,"We organize the interactive elements into st.sidebar, using object notation and with notation. Each element that passed to sidebar is pinned to the left, allowing users to focus on the content in your app still having access to UI controls."),(0,l.yg)("p",null,"e.g."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},'# Object notation\nst.sidebar.[element_name]\n# "with" notation\nwith st.sidebar:\n    st.[element_name]\n')),(0,l.yg)("p",null,"When we wanna add a selectbox and a radio into sidebar:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},'# Using object notation\nadd_selectbox = st.sidebar.selectbox(\n    "How would you like to be contacted?",\n    ("Email", "Home phone", "Mobile phone")\n)\n# Using "with" notation\nwith st.sidebar:\n    add_radio = st.radio(\n        "Choose a shipping method",\n        ("Standard (5-15 days)", "Express (2-5 days)")\n    )\n')),(0,l.yg)("p",null,"Additionally, the only elements that aren't supported using object notation are st.echo, st.spinner, and st.toast. To use these elements, you must use with notation."),(0,l.yg)("p",null,"e.g."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},'with st.sidebar:\n    with st.echo():\n        st.write("This code will be printed to the sidebar.")\n\n    with st.spinner("Loading..."):\n        time.sleep(5)\n    st.success("Done!")\n')),(0,l.yg)("p",null,"For more details, look at the following example:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},"import streamlit as st\n\n# Add a selectbox to the sidebar:\nadd_selectbox = st.sidebar.selectbox(\n    'How would you like to be contacted?',\n    ('Email', 'Home phone', 'Mobile phone')\n)\n\n# Add a slider to the sidebar:\nadd_slider = st.sidebar.slider(\n    'Select a range of values',\n    0.0, 100.0, (25.0, 75.0)\n)\n")),(0,l.yg)("p",null,"Beyond the sidebar, Streamlit offers several other ways to control the layout of your app. st.columns lets you place widgets side-by-side, and st.expander lets you conserve space by hiding away large content."),(0,l.yg)("p",null,'notation: build frontend via "with" is an important way in a project, every element writen under "with xxx" will be set as a subobject. "xxx" can be "sidebar", "container", etc.'),(0,l.yg)("h3",{id:"columns"},"columns"),(0,l.yg)("p",null,"Function Signature"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},'st.columns(spec, *, gap="small")\n')),(0,l.yg)("p",null,"spec parameter controls the number and width of columns to insert, and gap is one of 'small', 'medium' and 'large', controlling the size of the gap between the columns."),(0,l.yg)("p",null,"Usage example"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},'left_column, right_column = st.columns(2)\n# You can use a column just like st.sidebar:\nleft_column.button(\'Press me!\')\n\n# Or even better, call Streamlit functions inside a "with" block:\nwith right_column:\n    chosen = st.radio(\n        \'Sorting hat\',\n        ("Gryffindor", "Ravenclaw", "Hufflepuff", "Slytherin"))\n    st.write(f"You are in {chosen} house!")\n')),(0,l.yg)("p",null,"using st.columns(2) thus getting two column elements, which can be regarded as two sidebar object (or just st) and use notation with to add interactive elements inside."),(0,l.yg)("p",null,"a image loader example:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},'import streamlit as st\n\ncol1, col2, col3 = st.columns(3)\n\nwith col1:\n   st.header("A cat")\n   st.image("https://static.streamlit.io/examples/cat.jpg")\n\nwith col2:\n   st.header("A dog")\n   st.image("https://static.streamlit.io/examples/dog.jpg")\n\nwith col3:\n   st.header("An owl")\n   st.image("https://static.streamlit.io/examples/owl.jpg")\n')),(0,l.yg)("h3",{id:"expander"},"expander"),(0,l.yg)("p",null,"Function Signature"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"st.expander(label, expanded=False)\n")),(0,l.yg)("p",null,"To see an example:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},'import streamlit as st\n\nst.bar_chart({"data": [1, 5, 2, 6, 2, 1]})\n\nwith st.expander("See explanation"):\n    st.write(\\"\\"\\"\n        The chart above shows some numbers I picked for you.\n        I rolled actual dice for these, so they\'re <em>guaranteed</em> to\n        be random.\n    \\"\\"\\")\n    st.image("https://static.streamlit.io/examples/dice.jpg")\n')),(0,l.yg)("p",null,'The result is that the text is hidden to a box tittled "See explanation", which indicates the function of expander.'),(0,l.yg)("p",null,"In another way to implement the same result"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-py"},'import streamlit as st\n\nst.bar_chart({"data": [1, 5, 2, 6, 2, 1]})\n\nexpander = st.expander("See explanation")\nexpander.write(\\"\\"\\"\n    The chart above shows some numbers I picked for you.\n    I rolled actual dice for these, so they\'re <em>guaranteed</em> to\n    be random.\n\\"\\"\\")\nexpander.image("https://static.streamlit.io/examples/dice.jpg")\n')),(0,l.yg)("h2",{id:"theme"},"Theme"),(0,l.yg)("p",null,"Basic theme style changing is a biasic function inside the streamli page. In 'Setting' mode. If you want to add your own theme to an app, you can edit on 'setting' page of edit the theme configs."),(0,l.yg)("p",null,"Streamlit provides four different ways to set configuration options. This list is in reverse order of precedence, i.e. command line flags take precedence over environment variables when the same configuration option is provided multiple times."),(0,l.yg)("p",null,"configure"),(0,l.yg)("p",null,"global config file path: '~/.streamlit/config.toml' for macOS/Linux or '%userprofile%/.streamlit/config.toml' for windows."),(0,l.yg)("h2",{id:"chatbot"},"Chatbot"),(0,l.yg)("p",null,"There is no doubt that LLMs are leading a new tide in AI realm. Streamli provides a practical tool for building our own Chatbot."),(0,l.yg)("p",null,'You can search "streamlit chatbot" via google and see the official documentation, which provide some detailed examples to build your Chatbot'))}u.isMDXComponent=!0}}]);