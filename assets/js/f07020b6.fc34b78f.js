"use strict";(self.webpackChunkcs_engineering=self.webpackChunkcs_engineering||[]).push([[1202],{304:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/IL47bOo2YooCe1xxBFhcOomwnme-266a034f4583099cc4fb7be62ff16e7c.png"},11172:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var o=n(58168),a=(n(96540),n(15680));const s={title:"websocket",slug:"websocket",sidebar_position:0},r="websocket",l={unversionedId:"\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u540e\u7aef\u6280\u672f/\u670d\u52a1\u5668\u76f8\u5173\u6280\u672f/websocket/websocket",id:"\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u540e\u7aef\u6280\u672f/\u670d\u52a1\u5668\u76f8\u5173\u6280\u672f/websocket/websocket",title:"websocket",description:"Author: \u9a6c\u5bff\u7965",source:"@site/docs/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u540e\u7aef\u6280\u672f/\u670d\u52a1\u5668\u76f8\u5173\u6280\u672f/websocket/websocket.md",sourceDirName:"\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u540e\u7aef\u6280\u672f/\u670d\u52a1\u5668\u76f8\u5173\u6280\u672f/websocket",slug:"/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u540e\u7aef\u6280\u672f/\u670d\u52a1\u5668\u76f8\u5173\u6280\u672f/websocket/websocket",permalink:"/cs-engineering/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u540e\u7aef\u6280\u672f/\u670d\u52a1\u5668\u76f8\u5173\u6280\u672f/websocket/websocket",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u540e\u7aef\u6280\u672f/\u670d\u52a1\u5668\u76f8\u5173\u6280\u672f/websocket/websocket.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"websocket",slug:"websocket",sidebar_position:0},sidebar:"sidebar",previous:{title:"\u670d\u52a1\u5668\u76f8\u5173\u6280\u672f",permalink:"/cs-engineering/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u540e\u7aef\u6280\u672f/\u670d\u52a1\u5668\u76f8\u5173\u6280\u672f/\u670d\u52a1\u5668\u76f8\u5173\u6280\u672f"},next:{title:"\u8fd0\u8425\u7ef4\u62a4",permalink:"/cs-engineering/\u8f6f\u4ef6\u5de5\u7a0b\u6280\u80fd\u6811/\u8fd0\u8425\u7ef4\u62a4/\u8fd0\u8425\u7ef4\u62a4"}},i={},c=[{value:"Web IDL",id:"web-idl",level:2},{value:"HTTP\u534f\u8bae",id:"http\u534f\u8bae",level:2},{value:"\u4e0ehttp\u534f\u8bae\u6bd4\u8f83",id:"\u4e0ehttp\u534f\u8bae\u6bd4\u8f83",level:2},{value:"\u76f8\u540c\u70b9",id:"\u76f8\u540c\u70b9",level:3},{value:"\u4e0d\u540c\u70b9",id:"\u4e0d\u540c\u70b9",level:3},{value:"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528WebSocket",id:"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528websocket",level:2},{value:"\u6d4f\u89c8\u5668\u652f\u6301",id:"\u6d4f\u89c8\u5668\u652f\u6301",level:2},{value:"Web \u670d\u52a1\u5668\u652f\u6301",id:"web-\u670d\u52a1\u5668\u652f\u6301",level:2},{value:"handshake",id:"handshake",level:2},{value:"IDL\u7248",id:"idl\u7248",level:2},{value:"For web developers (non-normative)",id:"for-web-developers-non-normative",level:2},{value:"Example",id:"example",level:2},{value:"Socket.IO",id:"socketio",level:2},{value:"\u662f\u4ec0\u4e48",id:"\u662f\u4ec0\u4e48",level:3},{value:"\u53ef\u7528\u7684Socket.IO\u5b9e\u73b0",id:"\u53ef\u7528\u7684socketio\u5b9e\u73b0",level:3},{value:"\u670d\u52a1\u5668\u5b9e\u73b0",id:"\u670d\u52a1\u5668\u5b9e\u73b0",level:4},{value:"\u5ba2\u6237\u7aef\u5b9e\u73b0",id:"\u5ba2\u6237\u7aef\u5b9e\u73b0",level:4},{value:"Example",id:"example-1",level:3},{value:"\u666e\u901a\u7684WebSocket\u5b9e\u73b0",id:"\u666e\u901a\u7684websocket\u5b9e\u73b0",level:2},{value:"ws",id:"ws",level:3},{value:"Installing",id:"installing",level:4},{value:"Usage examples",id:"usage-examples",level:4},{value:"Sending and receiving text data",id:"sending-and-receiving-text-data",level:5},{value:"Sending binary data",id:"sending-binary-data",level:5},{value:"Simple server",id:"simple-server",level:5},{value:"uWebSockets.js",id:"uwebsocketsjs",level:3},{value:"\u662f\u4ec0\u4e48",id:"\u662f\u4ec0\u4e48-1",level:4},{value:"Installing",id:"installing-1",level:4},{value:"Usage examples",id:"usage-examples-1",level:4},{value:"Go",id:"go",level:3},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5",level:2},{value:"\u4f7f\u7528curl\u6d4b\u8bd5ws\u8fde\u63a5\u6027",id:"\u4f7f\u7528curl\u6d4b\u8bd5ws\u8fde\u63a5\u6027",level:3},{value:"\u5728\u7ebf\u6d4b\u8bd5\u5de5\u5177",id:"\u5728\u7ebf\u6d4b\u8bd5\u5de5\u5177",level:3},{value:"\u76f8\u5173\u5de5\u5177",id:"\u76f8\u5173\u5de5\u5177",level:2}],p={toc:c},g="wrapper";function u(e){let{components:t,...s}=e;return(0,a.yg)(g,(0,o.A)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"websocket"},"websocket"),(0,a.yg)("p",null,"Author: \u9a6c\u5bff\u7965"),(0,a.yg)("h1",{id:"\u7b80\u4ecb"},"\u7b80\u4ecb"),(0,a.yg)("p",null,"WebSocket\u662f\u4e00\u79cd\u5728\u5355\u4e2aTCP\u8fde\u63a5\u4e0a\u8fdb\u884c\u5168\u53cc\u5de5\u901a\u4fe1\u7684\u534f\u8bae\u3002WebSocket\u901a\u4fe1\u534f\u8bae\u4e8e2011\u5e74\u88abIETF\u5b9a\u4e3a\u6807\u51c6RFC 6455\uff0c\u5e76\u7531RFC7936\u8865\u5145\u89c4\u8303\u3002WebSocket API\u4e5f\u88abW3C\u5b9a\u4e3a\u6807\u51c6\u3002"),(0,a.yg)("p",null,"WebSocket\u4f7f\u5f97\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u6362\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\uff0c\u5141\u8bb8\u670d\u52a1\u7aef\u4e3b\u52a8\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u6570\u636e\u3002\u5728WebSocket API\u4e2d\uff0c\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u53ea\u9700\u8981\u5b8c\u6210\u4e00\u6b21\u63e1\u624b\uff0c\u4e24\u8005\u4e4b\u95f4\u5c31\u76f4\u63a5\u53ef\u4ee5\u521b\u5efa\u6301\u4e45\u6027\u7684\u8fde\u63a5\uff0c\u5e76\u8fdb\u884c\u53cc\u5411\u6570\u636e\u4f20\u8f93\u3002"),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"WebSocket\u662fHTML5\u6700\u65b0\u63d0\u51fa\u7684\u89c4\u8303\uff0c\u867d\u7136\u4e3b\u6d41\u6d4f\u89c8\u5668\u90fd\u5df2\u7ecf\u652f\u6301\uff0c\u4f46\u4ecd\u7136\u53ef\u80fd\u6709\u4e0d\u517c\u5bb9\u7684\u60c5\u51b5\uff0c\u4e3a\u4e86\u517c\u5bb9\u6240\u6709\u6d4f\u89c8\u5668\uff0c\u7ed9\u7a0b\u5e8f\u5458\u63d0\u4f9b\u4e00\u81f4\u7684\u7f16\u7a0b\u4f53\u9a8c\uff0cSocketIO\u5c06WebSocket\u3001AJAX\u548c\u5176\u5b83\u7684\u901a\u4fe1\u65b9\u5f0f\u5168\u90e8\u5c01\u88c5\u6210\u4e86\u7edf\u4e00\u7684\u901a\u4fe1\u63a5\u53e3\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u5728\u4f7f\u7528SocketIO\u65f6\uff0c\u4e0d\u7528\u62c5\u5fc3\u517c\u5bb9\u95ee\u9898\uff0c\u5e95\u5c42\u4f1a\u81ea\u52a8\u9009\u7528\u6700\u4f73\u7684\u901a\u4fe1\u65b9\u5f0f\u3002\u56e0\u6b64\uff0cWebSocket\u662fSocketIO\u7684\u4e00\u4e2a\u5b50\u96c6\u3002")),(0,a.yg)("i",null,"\u5f15\u81ea\uff1a"),(0,a.yg)("em",null,"https://blog.csdn.net/AIWWY/article/details/121588322"),(0,a.yg)("p",null,"\u4e00\u4e2a\u793a\u4f8b\u7684 WebSocket \u94fe\u63a5\u683c\u5f0f\u5982\u4e0b\uff1a"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"\u52a0\u5bc6\uff1awss://example.com/ws/updates "),(0,a.yg)("li",{parentName:"ul"},"\u672a\u52a0\u5bc6\uff1aws://example.com/ws/updates ")),(0,a.yg)("h1",{id:"\u9884\u5907\u77e5\u8bc6"},"\u9884\u5907\u77e5\u8bc6"),(0,a.yg)("h2",{id:"web-idl"},"Web IDL"),(0,a.yg)("p",null,"\u4e0d\u4e86\u89e3\u4e5f\u6ca1\u5173\u7cfb\uff0c\u56e0\u4e3aWebSocket\u534f\u8bae\u771f\u7684\u975e\u5e38\u7b80\u5355"),(0,a.yg)("p",null,"\u662f\u7528\u6765\u63cf\u8ff0\u8f6f\u4ef6\u7ec4\u4ef6\u4ecb\u9762\u7684\u4e00\u79cd\u8ba1\u7b97\u673a\u8bed\u8a00\u3002IDL\u901a\u8fc7\u4e00\u79cd\u72ec\u7acb\u4e8e\u7f16\u7a0b\u8bed\u8a00\u7684\u65b9\u5f0f\u6765\u63cf\u8ff0\u63a5\u53e3\uff0c\u4f7f\u5f97\u5728\u4e0d\u540c\u5e73\u53f0\u4e0a\u8fd0\u884c\u7684\u5bf9\u8c61\u548c\u7528\u4e0d\u540c\u8bed\u8a00\u7f16\u5199\u7684\u7a0b\u5e8f\u53ef\u4ee5\u76f8\u4e92\u901a\u4fe1\u4ea4\u6d41\u3002"),(0,a.yg)("p",null,"\u53c2\u8003\uff1a",(0,a.yg)("a",{parentName:"p",href:"https://juejin.cn/post/7152689021674586120"},"https://juejin.cn/post/7152689021674586120")),(0,a.yg)("h2",{id:"http\u534f\u8bae"},"HTTP\u534f\u8bae"),(0,a.yg)("p",null,"\u4e86\u89e3http\u62a5\u6587\u683c\u5f0f\u5c31\u597d"),(0,a.yg)("p",null,"\u8bf7\u6c42\u62a5\u6587"),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(77578).A,width:"1230",height:"391"})),(0,a.yg)("p",null,"\u54cd\u5e94\u62a5\u6587"),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(21890).A,width:"1216",height:"386"})),(0,a.yg)("h1",{id:"\u7279\u70b9"},"\u7279\u70b9"),(0,a.yg)("h2",{id:"\u4e0ehttp\u534f\u8bae\u6bd4\u8f83"},"\u4e0ehttp\u534f\u8bae\u6bd4\u8f83"),(0,a.yg)("h3",{id:"\u76f8\u540c\u70b9"},"\u76f8\u540c\u70b9"),(0,a.yg)("blockquote",null,(0,a.yg)("ul",{parentName:"blockquote"},(0,a.yg)("li",{parentName:"ul"},"\u90fd\u662f\u57fa\u4e8eTCP\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff1b"),(0,a.yg)("li",{parentName:"ul"},"\u90fd\u4f7f\u7528Request/Response\u6a21\u578b\u8fdb\u884c\u8fde\u63a5\u7684\u5efa\u7acb\uff1b"),(0,a.yg)("li",{parentName:"ul"},"\u5728\u8fde\u63a5\u7684\u5efa\u7acb\u8fc7\u7a0b\u4e2d\u5bf9\u9519\u8bef\u7684\u5904\u7406\u65b9\u5f0f\u76f8\u540c\uff0c\u5728\u8fd9\u4e2a\u9636\u6bb5WS\u53ef\u80fd\u8fd4\u56de\u548cHTTP\u76f8\u540c\u7684\u8fd4\u56de\u7801\uff1b"),(0,a.yg)("li",{parentName:"ul"},"\u90fd\u53ef\u4ee5\u5728\u7f51\u7edc\u4e2d\u4f20\u8f93\u6570\u636e\u3002"))),(0,a.yg)("h3",{id:"\u4e0d\u540c\u70b9"},"\u4e0d\u540c\u70b9"),(0,a.yg)("blockquote",null,(0,a.yg)("ul",{parentName:"blockquote"},(0,a.yg)("li",{parentName:"ul"},"WS\u4f7f\u7528HTTP\u6765\u5efa\u7acb\u8fde\u63a5\uff0c\u4f46\u662f\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u65b0\u7684header\u57df\uff0c\u8fd9\u4e9b\u57df\u5728HTTP\u4e2d\u5e76\u4e0d\u4f1a\u4f7f\u7528\uff1b"),(0,a.yg)("li",{parentName:"ul"},"WS\u7684\u8fde\u63a5\u4e0d\u80fd\u901a\u8fc7\u4e2d\u95f4\u4eba\u6765\u8f6c\u53d1\uff0c\u5b83\u5fc5\u987b\u662f\u4e00\u4e2a\u76f4\u63a5\u8fde\u63a5\uff1b"),(0,a.yg)("li",{parentName:"ul"},"WS\u8fde\u63a5\u5efa\u7acb\u4e4b\u540e\uff0c\u901a\u4fe1\u53cc\u65b9\u90fd\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u523b\u5411\u53e6\u4e00\u65b9\u53d1\u9001\u6570\u636e\uff1b"),(0,a.yg)("li",{parentName:"ul"},"WS\u8fde\u63a5\u5efa\u7acb\u4e4b\u540e\uff0c\u6570\u636e\u7684\u4f20\u8f93\u4f7f\u7528\u5e27\u6765\u4f20\u9012\uff0c\u4e0d\u518d\u9700\u8981Request\u6d88\u606f\uff1b"),(0,a.yg)("li",{parentName:"ul"},"WS\u7684\u6570\u636e\u5e27\u6709\u5e8f\u3002"))),(0,a.yg)("em",null,"\u5f15\u81ea\uff1ahttps://blog.csdn.net/LL845876425/article/details/106393358"),(0,a.yg)("h2",{id:"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528websocket"},"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528WebSocket"),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"\u5728WebSocket\u51fa\u73b0\u4e4b\u524d\uff0c\u4e3a\u4e86\u5b9e\u73b0\u5373\u65f6\u901a\u4fe1\uff0c\u91c7\u7528\u7684\u6280\u672f\u90fd\u662f\u201c\u8f6e\u8be2\u201d\uff0c\u5373\u5728\u7279\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u5185\uff0c\u7531\u6d4f\u89c8\u5668\u5bf9\u670d\u52a1\u5668\u53d1\u51faHTTP Request\uff0c\u670d\u52a1\u5668\u5728\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u8fd4\u56de\u6700\u65b0\u7684\u6570\u636e\u7ed9\u6d4f\u89c8\u5668\u5237\u65b0\uff0c\u201c\u8f6e\u8be2\u201d\u4f7f\u5f97\u6d4f\u89c8\u5668\u9700\u8981\u5bf9\u670d\u52a1\u5668\u4e0d\u65ad\u53d1\u51fa\u8bf7\u6c42\uff0c\u8fd9\u6837\u4f1a\u5360\u7528\u5927\u91cf\u5e26\u5bbd\u3002\nWebSocket\u91c7\u7528\u4e86\u4e00\u4e9b\u7279\u6b8a\u7684\u62a5\u5934\uff0c\u4f7f\u5f97\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u53ea\u9700\u8981\u505a\u4e00\u4e2a\u63e1\u624b\u7684\u52a8\u4f5c\uff0c\u5c31\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u5efa\u7acb\u4e00\u6761\u8fde\u63a5\u901a\u9053\u3002\u4e14\u6b64\u8fde\u63a5\u4f1a\u4fdd\u6301\u5728\u6d3b\u52a8\u72b6\u6001\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528JavaScript\u6765\u5411\u8fde\u63a5\u5199\u5165\u6216\u4ece\u4e2d\u63a5\u6536\u6570\u636e\uff0c\u5c31\u50cf\u5728\u4f7f\u7528\u4e00\u4e2a\u5e38\u89c4\u7684TCP Socket\u4e00\u6837\u3002\u5b83\u89e3\u51b3\u4e86Web\u5b9e\u65f6\u5316\u7684\u95ee\u9898\uff0c\u76f8\u6bd4\u4f20\u7edfHTTP\u6709\u5982\u4e0b\u597d\u5904\uff1a"),(0,a.yg)("ul",{parentName:"blockquote"},(0,a.yg)("li",{parentName:"ul"},"\u4e00\u4e2aWeb\u5ba2\u6237\u7aef\u53ea\u5efa\u7acb\u4e00\u4e2aTCP\u8fde\u63a5"),(0,a.yg)("li",{parentName:"ul"},"Websocket\u670d\u52a1\u7aef\u53ef\u4ee5\u63a8\u9001(push)\u6570\u636e\u5230web\u5ba2\u6237\u7aef."),(0,a.yg)("li",{parentName:"ul"},"\u6709\u66f4\u52a0\u8f7b\u91cf\u7ea7\u7684\u5934\uff0c\u51cf\u5c11\u6570\u636e\u4f20\u9001\u91cf"))),(0,a.yg)("i",null,"\u5f15\u81ea\uff1a"),(0,a.yg)("em",null,"https://cc.topgoer.cn/docs/golangweb/golangweb-1ck1l3rhnfn0l"),(0,a.yg)("h1",{id:"\u534f\u8bae\u652f\u6301\u60c5\u51b5"},"\u534f\u8bae\u652f\u6301\u60c5\u51b5"),(0,a.yg)("h2",{id:"\u6d4f\u89c8\u5668\u652f\u6301"},"\u6d4f\u89c8\u5668\u652f\u6301"),(0,a.yg)("p",null,"\u70b9\u51fb\u94fe\u63a5\u67e5\u770b\u6700\u65b0\u652f\u6301\u60c5\u51b5 ",(0,a.yg)("a",{parentName:"p",href:"https://caniuse.com/?search=websockets"},"https://caniuse.com/?search=websockets")),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(57260).A,width:"2560",height:"1422"})),(0,a.yg)("p",null,"\u4ece\u4e0a\u56fe\u6700\u65b0\u7684\u4e00\u6b21\u66f4\u65b0\u6765\u770b\uff0c\u76ee\u524d98%\u7684\u6d4f\u89c8\u5668\u90fd\u652f\u6301Web Sockets\u3002"),(0,a.yg)("h2",{id:"web-\u670d\u52a1\u5668\u652f\u6301"},"Web \u670d\u52a1\u5668\u652f\u6301"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Nginx \u81ea2013 \u5e74\u5f00\u59cb\u652f\u6301 WebSocket\uff0c\u5728 1.3.13\u7248\u672c\u4e2d\u5b9e\u73b0\uff0c\u5305\u62ec\u5145\u5f53WebSocket \u5e94\u7528\u7a0b\u5e8f\u7684\u53cd\u5411\u4ee3\u7406\u548c\u8d1f\u8f7d\u5747\u8861\u5668\u3002"),(0,a.yg)("li",{parentName:"ul"},"Apache HTTP Server\u4ece 2013 \u5e74 7 \u6708\u5f00\u59cb\u652f\u6301 WebSockets\uff0c\u5728 2.4.5 \u7248\u672c\u4e2d\u5b9e\u73b0\u3002"),(0,a.yg)("li",{parentName:"ul"},"Internet Information Services\u5728\u968fWindows Server 2012\u53d1\u5e03\u7684\u7248\u672c 8 \u4e2d\u589e\u52a0\u4e86\u5bf9 WebSockets \u7684\u652f\u6301\u3002"),(0,a.yg)("li",{parentName:"ul"},"lighttpd\u4ece 2017 \u5e74\u5f00\u59cb\u652f\u6301 WebSockets\uff0c\u5728 1.4.46 \u7248\u672c\u4e2d\u5b9e\u73b0\u3002lighttpd mod_proxy \u53ef\u4ee5\u5145\u5f53 WebSocket \u5e94\u7528\u7a0b\u5e8f\u7684\u53cd\u5411\u4ee3\u7406\u548c\u8d1f\u8f7d\u5e73\u8861\u5668\u3002lighttpd mod_wstunnel \u53ef\u4ee5\u6784\u5efa WebSocket \u96a7\u9053\u4ee5\u5c06\u4efb\u610f\u6570\u636e\uff08\u5305\u62ecJSON\u683c\u5f0f\uff09\u4f20\u8f93\u5230\u540e\u7aef\u5e94\u7528\u7a0b\u5e8f\u3002"),(0,a.yg)("li",{parentName:"ul"},"\u81ea 2022 \u5e74\u4ee5\u6765\uff0cTempesta FW \u652f\u6301\u7528\u4e8e HTTP/1.1 \u548c HTTPS \u8fde\u63a5\u7684WebSockets\u3002RFC 8441\u7684HTTP/2 \u4e0a\u7684 WebSockets\u88ab\u5f00\u53d1\u4eba\u5458\u8ba4\u4e3a\u90e8\u7f72\u4e0d\u591f\u5e7f\u6cdb\u4e14\u672a\u5b9e\u73b0\u3002")),(0,a.yg)("h1",{id:"websocket-\u901a\u4fe1\u8fc7\u7a0b"},"websocket \u901a\u4fe1\u8fc7\u7a0b"),(0,a.yg)("p",null,"\u7b2c\u4e00\u6b21handshake\u901a\u8fc7\u4ee5\u540e\uff0c\u8fde\u63a5\u4fbf\u5efa\u7acb\u6210\u529f\uff0c\u5176\u540e\u7684\u901a\u8baf\u6570\u636e\u90fd\u662f\u4ee5\u201d\\x00\u2033\u5f00\u5934\uff0c\u4ee5\u201d\\xFF\u201d\u7ed3\u5c3e\u3002\u5728\u5ba2\u6237\u7aef\uff0c\u8fd9\u4e2a\u662f\u900f\u660e\u7684\uff0cWebSocket\u7ec4\u4ef6\u4f1a\u81ea\u52a8\u5c06\u539f\u59cb\u6570\u636e\u201c\u6390\u5934\u53bb\u5c3e\u201d\u3002"),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(59798).A,width:"628",height:"511"})),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(93544).A,width:"644",height:"475"})),(0,a.yg)("h2",{id:"handshake"},"handshake"),(0,a.yg)("p",null,"\u4e00\u4e2a\u5178\u578b\u7684\u63e1\u624b\u8bf7\u6c42\u5982\u4e0b\uff1a"),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(31120).A,width:"590",height:"307"})),(0,a.yg)("p",null,'\u5728\u8bf7\u6c42\u4e2d\u7684"',(0,a.yg)("inlineCode",{parentName:"p"},"Sec-WebSocket-Key"),'"\u662f\u968f\u673a\u7684\uff0c\u662f\u4e00\u4e2a\u7ecf\u8fc7base64\u7f16\u7801\u540e\u7684\u6570\u636e\u3002\u670d\u52a1\u5668\u7aef\u63a5\u6536\u5230\u8fd9\u4e2a\u8bf7\u6c42\u4e4b\u540e\u9700\u8981\u628a\u8fd9\u4e2a\u5b57\u7b26\u4e32\u8fde\u63a5\u4e0a\u4e00\u4e2a\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\uff1a',(0,a.yg)("inlineCode",{parentName:"p"},"258EAFA5-E914-47DA-95CA-C5AB0DC85B11")),(0,a.yg)("p",null,"\u4f8b\u5982\uff0c\u4e0a\u56fe\u8bf7\u6c42\u4e2d"),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"f7cb4ezEAl6C3wRaU6JORA=="),"\u8fde\u63a5\u4e0a\u90a3\u4e00\u4e32\u56fa\u5b9a\u5b57\u7b26\u4e32\uff0c\u751f\u6210\u4e00\u4e2a\u8fd9\u6837\u7684\u5b57\u7b26\u4e32\uff1a",(0,a.yg)("inlineCode",{parentName:"p"},"f7cb4ezEAl6C3wRaU6JORA==258EAFA5-E914-47DA-95CA-C5AB0DC85B11")),(0,a.yg)("p",null,"\u5bf9\u8be5\u5b57\u7b26\u4e32\u5148\u7528 sha1\u5b89\u5168\u6563\u5217\u7b97\u6cd5\u8ba1\u7b97\u51fa\u4e8c\u8fdb\u5236\u7684\u503c\uff0c\u7136\u540e\u7528base64\u5bf9\u5176\u8fdb\u884c\u7f16\u7801\uff0c\u5373\u53ef\u4ee5\u5f97\u5230\u63e1\u624b\u540e\u7684\u5b57\u7b26\u4e32\uff1a",(0,a.yg)("inlineCode",{parentName:"p"},"rE91AJhfC+6JdVcVXOGJEADEJdQ=")),(0,a.yg)("p",null,"\u5c06\u4e4b\u4f5c\u4e3a\u54cd\u5e94\u5934",(0,a.yg)("inlineCode",{parentName:"p"},"Sec-WebSocket-Accept"),"\u7684\u503c\u53cd\u9988\u7ed9\u5ba2\u6237\u7aef\u3002"),(0,a.yg)("p",null,"\u601d\u8003\uff1a\u5982\u679c\u63e1\u624b\u53d1\u73b0websocket\u4e0d\u53ef\u7528 , \u5c06\u53d1\u751f\u4ec0\u4e48\uff1f"),(0,a.yg)("h1",{id:"\u63a5\u53e3\u5b9a\u4e49"},"\u63a5\u53e3\u5b9a\u4e49"),(0,a.yg)("p",null,"\u5728 ",(0,a.yg)("a",{parentName:"p",href:"https://websockets.spec.whatwg.org/"},"https://websockets.spec.whatwg.org/")," \uff0c\u53ef\u4ee5\u770b\u5230 websocket \u534f\u8bae\u6807\u51c6\u6700\u65b0\u7248\u672c\u3002"),(0,a.yg)("p",null,"\u7b80\u5355\u4e86\u89e3\u4e00\u4e0b\u5373\u53ef\uff0c\u5177\u4f53\u5f00\u53d1\u65f6\uff0c\u53ef\u4ee5\u770b\u5bf9\u5e94\u6846\u67b6\u7684\u6587\u6863\u3002\uff08\u5f53\u7136\uff0c\u5982\u679c\u4f60\u8981\u624b\u5199\u6846\u67b6\uff0c\u8fd8\u662f\u53ef\u4ee5\u4e86\u89e3\u4e00\u4e0b\u7684"),(0,a.yg)("h2",{id:"idl\u7248"},"IDL\u7248"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-yaml"},'enum <u>BinaryType</u> { <u>"blob"</u>, <u>"arraybuffer"</u> };\n\n[<u>Exposed</u>=(Window,Worker)]\ninterface <u>WebSocket</u> : <u>EventTarget</u> {\n  <u>constructor</u>(<u>USVString</u> <u>url</u>, optional (<u>DOMString</u> or <u>sequence</u><<u>DOMString</u>>) <u>protocols</u> = []);\n  readonly attribute <u>USVString</u> <u>url</u>;\n\n  // ready state\n  const <u>unsigned short</u> <u>CONNECTING</u> = 0;\n  const <u>unsigned short</u> <u>OPEN</u> = 1;\n  const <u>unsigned short</u> <u>CLOSING</u> = 2;\n  const <u>unsigned short</u> <u>CLOSED</u> = 3;\n  readonly attribute <u>unsigned short</u> <u>readyState</u>;\n  readonly attribute <u>unsigned long long</u> <u>bufferedAmount</u>;\n\n  // networking\n  attribute <u>EventHandler</u> <u>onopen</u>;\n  attribute <u>EventHandler</u> <u>onerror</u>;\n  attribute <u>EventHandler</u> <u>onclose</u>;\n  readonly attribute <u>DOMString</u> <u>extensions</u>;\n  readonly attribute <u>DOMString</u> <u>protocol</u>;\n  <u>undefined</u> <u>close</u>(optional [<u>Clamp</u>] <u>unsigned short</u> <u>code</u>, optional <u>USVString</u> <u>reason</u>);\n\n  // messaging\n  attribute <u>EventHandler</u> <u>onmessage</u>;\n  attribute <u>BinaryType</u> <u>binaryType</u>;\n  <u>undefined</u> <u>send</u>((<u>BufferSource</u> or <u>Blob</u> or <u>USVString</u>) <u>data</u>);\n};\n\n[<u>Exposed</u>=(Window,Worker)]\ninterface <u>CloseEvent</u> : <u>Event</u> {\n  <u>constructor</u>(<u>DOMString</u> <u>type</u>, optional <u>CloseEventInit</u> <u>eventInitDict</u> = {});\n\n  readonly attribute <u>boolean</u> <u>wasClean</u>;\n  readonly attribute <u>unsigned short</u> <u>code</u>;\n  readonly attribute <u>USVString</u> <u>reason</u>;\n};\n\ndictionary <u>CloseEventInit</u> : <u>EventInit</u> {\n  <u>boolean</u> <u>wasClean</u> = false;\n  <u>unsigned short</u> <u>code</u> = 0;\n  <u>USVString</u> <u>reason</u> = "";\n};\n')),(0,a.yg)("h2",{id:"for-web-developers-non-normative"},"For web developers (non-normative)"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},'socket = new WebSocket(url [, protocols ])\n    //Creates a new WebSocket object, immediately establishing the associated WebSocket connection.\n    //url is a string giving the URL over which the connection is established. Only "ws" or "wss" schemes are allowed; others will cause a "SyntaxError" DOMException. URLs with fragments will also cause such an exception.\n    //protocols is either a string or an array of strings. If it is a string, it is equivalent to an array consisting of just that string; if it is omitted, it is equivalent to the empty array. Each string in the array is a subprotocol name. The connection will only be established if the server reports that it has selected one of these subprotocols. The subprotocol names have to match the requirements for elements that comprise the value of `Sec-WebSocket-Protocol` fields as defined by The WebSocket protocol. [WSP]\n\nsocket.send(data)\n    //Transmits data using the WebSocket connection. data can be a string, a Blob, an ArrayBuffer, or an ArrayBufferView.\n\nsocket.close([ code ] [, reason ])\n    //Closes the WebSocket connection, optionally using code as the WebSocket connection close code and reason as the WebSocket connection close reason.\n\nsocket.url\n    //Returns the URL that was used to establish the WebSocket connection.\n\nsocket.readyState\n    //Returns the state of the WebSocket connection. It can have the values described above.\n\nsocket.bufferedAmount\n    //Returns the number of bytes of application data (UTF-8 text and binary data) that have been queued using send() but not yet been transmitted to the network.\n    //If the WebSocket connection is closed, this attribute\u2019s value will only increase with each call to the send() method. (The number does not reset to zero once the connection closes.)\n\nsocket.extensions\n    //Returns the extensions selected by the server, if any.\n\n\nsocket.protocol\n    //Returns the subprotocol selected by the server, if any. It can be used in conjunction with the array form of the constructor\u2019s second argument to perform subprotocol negotiation.\n\nsocket.binaryType\n    //Returns a string that indicates how binary data from socket is exposed to scripts:\n\n    //"blob"\n        //Binary data is returned in Blob form.\n\n    //"arraybuffer"\n        //Binary data is returned in ArrayBuffer form.\n        \n    //The default is "blob".\n\nsocket.binaryType = value\n    //Changes how binary data is returned.\n    \n    \nevent.wasClean\n    //Returns true if the connection closed cleanly; false otherwise.\n\nevent.code\n    //Returns the WebSocket connection close code provided by the server.\n\nevent.reason\n    //Returns the WebSocket connection close reason provided by the server.\n')),(0,a.yg)("h2",{id:"example"},"Example"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},"var socket = new WebSocket('ws://game.example.com:12010/updates');\nsocket.onopen = function () {\n  setInterval(function() {\n      if (socket.bufferedAmount == 0)\n          socket.send(getUpdateData());\n      }, 50);\n};\n")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},"mysocket.onmessage = function (event) {\n    if (event.data == 'on') {\n        turnLampOn();\n    } else if (event.data == 'off') {\n        turnLampOff();\n    }\n};\n")),(0,a.yg)("h1",{id:"\u5f00\u53d1\u6587\u6863"},"\u5f00\u53d1\u6587\u6863"),(0,a.yg)("h2",{id:"socketio"},"Socket.IO"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://socket.io"},"https://socket.io")),(0,a.yg)("h3",{id:"\u662f\u4ec0\u4e48"},"\u662f\u4ec0\u4e48"),(0,a.yg)("p",null,"Socket.IO \u662f\u4e00\u4e2a\u5e93\uff0c\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u5b9e\u73b0\u4f4e\u5ef6\u8fdf\u3001\u53cc\u5411\u548c\u57fa\u4e8e\u4e8b\u4ef6\u7684\u901a\u4fe1\u3002"),(0,a.yg)("p",null,"\u5b83\u5efa\u7acb\u5728WebSocket\u534f\u8bae\u4e4b\u4e0a\uff0c\u5e76\u63d0\u4f9b\u989d\u5916\u7684\u4fdd\u8bc1\uff0c\u4f8b\u5982\u56de\u9000\u5230 HTTP \u957f\u8f6e\u8be2\u6216\u81ea\u52a8\u91cd\u65b0\u8fde\u63a5\u3002"),(0,a.yg)("p",null,"\u6ce8\u610f\uff1aSocket.IO\u4e0d\u662fWebSocket \u5b9e\u73b0\u3002"),(0,a.yg)("p",null,"\u5c3d\u7ba1 Socket.IO \u786e\u5b9e\u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 WebSocket \u8fdb\u884c\u4f20\u8f93\uff0c\u4f46\u5b83\u4e3a\u6bcf\u4e2a\u6570\u636e\u5305\u6dfb\u52a0\u4e86\u989d\u5916\u7684\u5143\u6570\u636e\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48 WebSocket \u5ba2\u6237\u7aef\u5c06\u65e0\u6cd5\u6210\u529f\u8fde\u63a5\u5230 Socket.IO \u670d\u52a1\u5668\uff0c\u800c Socket.IO \u5ba2\u6237\u7aef\u4e5f\u5c06\u65e0\u6cd5\u8fde\u63a5\u5230\u666e\u901a WebSocket \u670d\u52a1\u5668\u3002"),(0,a.yg)("h3",{id:"\u53ef\u7528\u7684socketio\u5b9e\u73b0"},"\u53ef\u7528\u7684Socket.IO\u5b9e\u73b0"),(0,a.yg)("h4",{id:"\u670d\u52a1\u5668\u5b9e\u73b0"},"\u670d\u52a1\u5668\u5b9e\u73b0"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"JavaScript (Node.js)"),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://socket.io/docs/v4/server-installation/"},"\u5b89\u88c5\u6b65\u9aa4")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://socket.io/docs/v4/server-api/"},"API")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/socketio/socket.io"},"\u6e90\u4ee3\u7801")))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"JavaScript (Deno)\uff1a",(0,a.yg)("a",{parentName:"p",href:"https://github.com/socketio/socket.io-deno"},"https ://github.com/socketio/socket.io-deno"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Java\uff1a",(0,a.yg)("a",{parentName:"p",href:"https://github.com/mrniko/netty-socketio"},"https ://github.com/mrniko/netty-socketio"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Java\uff1a",(0,a.yg)("a",{parentName:"p",href:"https://github.com/trinopoty/socket.io-server-java"},"https ://github.com/trinopoty/socket.io-server-java"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Python\uff1a",(0,a.yg)("a",{parentName:"p",href:"https://github.com/miguelgrinberg/python-socketio"},"https ://github.com/miguelgrinberg/python-socketio"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Golang\uff1a",(0,a.yg)("a",{parentName:"p",href:"https://github.com/googollee/go-socket.io"},"https ://github.com/googollee/go-socket.io")))),(0,a.yg)("h4",{id:"\u5ba2\u6237\u7aef\u5b9e\u73b0"},"\u5ba2\u6237\u7aef\u5b9e\u73b0"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"JavaScript (which can be run either in the browser, in Node.js or in React Native)"),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://socket.io/docs/v4/client-installation/"},"Installation steps")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://socket.io/docs/v4/client-api/"},"API")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/socketio/socket.io-client"},"Source code")))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Java: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/socketio/socket.io-client-java"},"https://github.com/socketio/socket.io-client-java"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"C++: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/socketio/socket.io-client-cpp"},"https://github.com/socketio/socket.io-client-cpp"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Swift: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/socketio/socket.io-client-swift"},"https://github.com/socketio/socket.io-client-swift"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Dart: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/rikulo/socket.io-client-dart"},"https://github.com/rikulo/socket.io-client-dart"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Python: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/miguelgrinberg/python-socketio"},"https://github.com/miguelgrinberg/python-socketio"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},".Net: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/doghappy/socket.io-client-csharp"},"https://github.com/doghappy/socket.io-client-csharp"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Rust: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/1c3t3a/rust-socketio"},"https://github.com/1c3t3a/rust-socketio"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Kotlin: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/icerockdev/moko-socket-io"},"https://github.com/icerockdev/moko-socket-io")))),(0,a.yg)("h3",{id:"example-1"},"Example"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},'import { Server } from "socket.io";\n\nconst io = new Server(3000);\n\nio.on("connection", (socket) => {\n  // send a message to the client\n  socket.emit("hello from server", 1, "2", { 3: Buffer.from([4]) });\n\n  // receive a message from the client\n  socket.on("hello from client", (...args) => {\n    // ...\n  });\n});\n')),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},'import { io } from "socket.io-client";\n\nconst socket = io("ws://localhost:3000");\n\n// send a message to the server\nsocket.emit("hello from client", 5, "6", { 7: Uint8Array.from([8]) });\n\n// receive a message from the server\nsocket.on("hello from server", (...args) => {\n  // ...\n});\n')),(0,a.yg)("h2",{id:"\u666e\u901a\u7684websocket\u5b9e\u73b0"},"\u666e\u901a\u7684WebSocket\u5b9e\u73b0"),(0,a.yg)("h3",{id:"ws"},"ws"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://github.com/websockets/ws"},"https://github.com/websockets/ws")),(0,a.yg)("h4",{id:"installing"},"Installing"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"npm install ws\n")),(0,a.yg)("h4",{id:"usage-examples"},"Usage examples"),(0,a.yg)("h5",{id:"sending-and-receiving-text-data"},"Sending and receiving text data"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-ts"},"import WebSocket from 'ws';\n\nconst ws = new WebSocket('ws://www.host.com/path');\n\nws.on('open', function open() {\n  ws.send('something');\n});\n\nws.on('message', function message(data) {\n  console.log('received: %s', data);\n});\n")),(0,a.yg)("h5",{id:"sending-binary-data"},"Sending binary data"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-ts"},"import WebSocket from 'ws';\n\nconst ws = new WebSocket('ws://www.host.com/path');\n\nws.on('open', function open() {\n  const array = new Float32Array(5);\n\n  for (var i = 0; i < array.length; ++i) {\n    array[i] = i / 2;\n  }\n\n  ws.send(array);\n});\n")),(0,a.yg)("h5",{id:"simple-server"},"Simple server"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-ts"},"import { WebSocketServer } from 'ws';\n\nconst wss = new WebSocketServer({ port: 8080 });\n\nwss.on('connection', function connection(ws) {\n  ws.on('message', function message(data) {\n    console.log('received: %s', data);\n  });\n\n  ws.send('something');\n});\n")),(0,a.yg)("p",null,"For more examples, see ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/websockets/ws/blob/master/README.md"},"https://github.com/websockets/ws/blob/master/README.md")),(0,a.yg)("h3",{id:"uwebsocketsjs"},"uWebSockets.js"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://github.com/uNetworking/uWebSockets.js"},"https://github.com/uNetworking/uWebSockets.js")),(0,a.yg)("h4",{id:"\u662f\u4ec0\u4e48-1"},"\u662f\u4ec0\u4e48"),(0,a.yg)("p",null,"\xb5WebSockets.js \u662f Node.js \u7684 HTTP/WebSocket \u670d\u52a1\u5668\uff0c\u8fd0\u884c\u901f\u5ea6\u662f Fastify \u7684 8.5\u500d\uff0c\u81f3\u5c11\u662f Socket.IO \u7684 10 \u500d\u3002\u5b83\u540c\u65f6\u652f\u6301\u8def\u7531\u5668\u548c\u53d1\u5e03/\u8ba2\u9605\uff0c\u9002\u5408\u975e\u51e1\u7684\u6027\u80fd\u9700\u6c42\u3002"),(0,a.yg)("h4",{id:"installing-1"},"Installing"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"yarn add uWebSockets.js@uNetworking/uWebSockets.js#v20.10.0\n")),(0,a.yg)("h4",{id:"usage-examples-1"},"Usage examples"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-ts"},"/* Non-SSL is simply App() */\nrequire('uWebSockets.js').SSLApp({\n\n  /* There are more SSL options, cut for brevity */\n  key_file_name: 'misc/key.pem',\n  cert_file_name: 'misc/cert.pem',\n  \n}).ws('/*', {\n\n  /* There are many common helper features */\n  idleTimeout: 32,\n  maxBackpressure: 1024,\n  maxPayloadLength: 512,\n  compression: DEDICATED_COMPRESSOR_3KB,\n\n  /* For brevity we skip the other events (upgrade, open, ping, pong, close) */\n  message: (ws, message, isBinary) => {\n    /* You can do app.publish('sensors/home/temperature', '22C') kind of pub/sub as well */\n    \n    /* Here we echo the message back, using compression if available */\n    let ok = ws.send(message, isBinary, true);\n  }\n  \n}).get('/*', (res, req) => {\n\n  /* It does Http as well */\n  res.writeStatus('200 OK').writeHeader('IsExample', 'Yes').end('Hello there!');\n  \n}).listen(9001, (listenSocket) => {\n\n  if (listenSocket) {\n    console.log('Listening to port 9001');\n  }\n  \n});\n")),(0,a.yg)("p",null,"For more examples, see ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/uNetworking/uWebSockets.js/tree/master/examples"},"https://github.com/uNetworking/uWebSockets.js/tree/master/examples")),(0,a.yg)("h3",{id:"go"},"Go"),(0,a.yg)("p",null,"Go\u8bed\u8a00\u6807\u51c6\u5305\u91cc\u9762\u6ca1\u6709\u63d0\u4f9b\u5bf9WebSocket\u7684\u652f\u6301\uff0c\u4f46\u662f\u5728\u7531\u5b98\u65b9\u7ef4\u62a4\u7684go.net\u5b50\u5305\u4e2d\u6709\u5bf9\u8fd9\u4e2a\u7684\u652f\u6301\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7684\u547d\u4ee4\u83b7\u53d6\u8be5\u5305\uff1a"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-go"},"go get golang.org/x/net/websocket\n")),(0,a.yg)("p",null,"\u5047\u8bbe\u6211\u4eec\u7684\u5ba2\u6237\u7aef\u5982\u4e0b\uff1a"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-html"},'<html>\n<head></head>\n<body><script type="text/javascript">\n        var sock = null;\n        var wsuri = "ws://127.0.0.1:82";\n\n        window.onload = function() {\n\n            console.log("onload");\n\n            sock = new WebSocket(wsuri);\n\n            sock.onopen = function() {\n                console.log("connected to " + wsuri);\n            }\n\n            sock.onclose = function(e) {\n                console.log("connection closed (" + e.code + ")");\n            }\n\n            sock.onmessage = function(e) {\n                console.log("message received: " + e.data);\n            }\n        };\n\n        function send() {\n            var msg = document.getElementById(\'message\').value;\n            sock.send(msg);\n        };\n    <\/script><h1>WebSocket Echo Test</h1><form><p>\n            Message: <input id="message" type="text" value="Hello, world!"></p></form><button onclick="send();">Send Message</button>\n</body>\n</html>\n')),(0,a.yg)("p",null,"\u670d\u52a1\u5668\u7aef\u5982\u4e0b\uff1a"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "golang.org/x/net/websocket"\n    "fmt"\n    "log"\n    "net/http"\n)\n\nfunc Echo(ws *websocket.Conn) {\n    var err error\n\n    for {\n        var reply string\n        if err = websocket.Message.Receive(ws, &reply); err != nil {\n            fmt.Println("Can\'t receive")\n            break\n        }\n\n        fmt.Println("Received back from client: " + reply)\n\n        msg := "Received:  " + reply\n        fmt.Println("Sending to client: " + msg)\n\n        if err = websocket.Message.Send(ws, msg); err != nil {\n            fmt.Println("Can\'t send")\n            break\n        }\n    }\n}\n\nfunc main() {\n    http.Handle("/", websocket.Handler(Echo))\n\n    if err := http.ListenAndServe(":82", nil); err != nil {\n        log.Fatal("ListenAndServe:", err)\n    }\n}\n')),(0,a.yg)("h2",{id:"\u6d4b\u8bd5"},"\u6d4b\u8bd5"),(0,a.yg)("h3",{id:"\u4f7f\u7528curl\u6d4b\u8bd5ws\u8fde\u63a5\u6027"},"\u4f7f\u7528curl\u6d4b\u8bd5ws\u8fde\u63a5\u6027"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},'curl <em>--include \\</em>\n     <em>--no-buffer \\</em>\n     <em>--header "Connection: Upgrade" \\</em>\n     <em>--header "Upgrade: websocket" \\</em>\n     <em>--header "Host: example.com:80" \\</em>\n     <em>--header "Origin: http://example.com:80" \\</em>\n     <em>--header "Sec-WebSocket-Key: SGVsbG8sIHdvcmxkIQ==" \\</em>\n     <em>--header "Sec-WebSocket-Version: 13" \\</em>\n     http://example.com:80/\n')),(0,a.yg)("p",null,"\u8fde\u63a5\u6210\u529f\u65f6\uff0c\u54cd\u5e94\u7684\u72b6\u6001\u7801\u4e3a101."),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(36484).A,width:"1452",height:"220"})),(0,a.yg)("i",null,"\u5f15\u81ea\uff1a"),(0,a.yg)("em",null,"https://www.cnblogs.com/niuben/p/14603232.html"),(0,a.yg)("h3",{id:"\u5728\u7ebf\u6d4b\u8bd5\u5de5\u5177"},"\u5728\u7ebf\u6d4b\u8bd5\u5de5\u5177"),(0,a.yg)("p",null,"\u4e0b\u9762\u8ba9\u6211\u4eec\u6765\u6d4b\u8bd5\u4e00\u4e0b\u4e0a\u6587\u7528go\u5199\u7684\u4ee3\u7801"),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(304).A,width:"687",height:"147"})),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(95862).A,width:"1278",height:"1262"})),(0,a.yg)("h1",{id:"\u5b89\u5168\u8003\u8651"},"\u5b89\u5168\u8003\u8651"),(0,a.yg)("p",null,"\u4e0e\u5e38\u89c4\u7684\u8de8\u57df HTTP \u8bf7\u6c42\u4e0d\u540c\uff0cWebSocket \u8bf7\u6c42\u4e0d\u53d7\u540c\u6e90\u7b56\u7565\u9650\u5236\u3002\u56e0\u6b64\uff0cWebSocket \u670d\u52a1\u5668\u5fc5\u987b\u5728\u8fde\u63a5\u5efa\u7acb\u671f\u95f4\u6839\u636e\u9884\u671f\u6765\u6e90\u9a8c\u8bc1\u201cOrigin\u201d\u6807\u5934\uff0c\u4ee5\u907f\u514d\u8de8\u7ad9\u70b9 WebSocket \u52ab\u6301\u653b\u51fb\uff08\u7c7b\u4f3c\u4e8e\u8de8\u7ad9\u70b9\u8bf7\u6c42\u4f2a\u9020\uff09\uff0c\u5f53\u4f7f\u7528cookie\u6216 HTTP\u9a8c\u8bc1\u8fde\u63a5\u65f6\u53ef\u80fd\u4f1a\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u9a8c\u8bc1\u3002\u5f53\u654f\u611f\uff08\u79c1\u6709\uff09\u6570\u636e\u901a\u8fc7 WebSocket \u4f20\u8f93\u65f6\uff0c\u6700\u597d\u4f7f\u7528\u4ee4\u724c\u6216\u7c7b\u4f3c\u7684\u4fdd\u62a4\u673a\u5236\u6765\u9a8c\u8bc1 WebSocket \u8fde\u63a5\u3002"),(0,a.yg)("h1",{id:"\u5173\u4e8e\u4f7f\u7528\u4ee3\u7406\u7684\u60c5\u51b5"},"\u5173\u4e8e\u4f7f\u7528\u4ee3\u7406\u7684\u60c5\u51b5"),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"WebSocket \u534f\u8bae\u5ba2\u6237\u7aef\u5b9e\u73b0\u5c1d\u8bd5\u68c0\u6d4b\u7528\u6237\u4ee3\u7406\u662f\u5426\u914d\u7f6e\u4e3a\u5728\u8fde\u63a5\u5230\u76ee\u6807\u4e3b\u673a\u548c\u7aef\u53e3\u65f6\u4f7f\u7528\u4ee3\u7406\uff0c\u5982\u679c\u662f\uff0c\u5219\u4f7f\u7528",(0,a.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/HTTP_tunnel#HTTP_CONNECT_tunneling"},"HTTP CONNECT"),"\u65b9\u6cd5\u8bbe\u7f6e\u6301\u4e45\u96a7\u9053\u3002\n\u867d\u7136 WebSocket \u534f\u8bae\u672c\u8eab\u4e0d\u77e5\u9053\u4ee3\u7406\u670d\u52a1\u5668\u548c\u9632\u706b\u5899\uff0c\u4f46\u5b83\u5177\u6709\u4e0e HTTP \u517c\u5bb9\u7684\u63e1\u624b\u529f\u80fd\uff0c\u56e0\u6b64\u5141\u8bb8 HTTP \u670d\u52a1\u5668\u4e0e WebSocket \u7f51\u5173\u6216\u670d\u52a1\u5668\u5171\u4eab\u5176\u9ed8\u8ba4\u7684 HTTP \u548c HTTPS \u7aef\u53e3\uff08\u5206\u522b\u4e3a 80 \u548c 443\uff09\u3002WebSocket \u534f\u8bae\u5b9a\u4e49\u4e86\u4e00\u4e2a ws:// \u548c wss:// \u524d\u7f00\uff0c\u5206\u522b\u8868\u793a\u4e00\u4e2a WebSocket \u548c\u4e00\u4e2a WebSocket \u5b89\u5168\u8fde\u63a5\u3002\u4e24\u79cd\u65b9\u6848\u90fd\u4f7f\u7528",(0,a.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/HTTP/1.1_Upgrade_header"},"HTTP \u5347\u7ea7\u673a\u5236"),"\u6765\u5347\u7ea7\u5230 WebSocket \u534f\u8bae\u3002\u4e00\u4e9b\u4ee3\u7406\u670d\u52a1\u5668\u662f\u900f\u660e\u7684\uff0c\u53ef\u4ee5\u4e0e WebSocket \u4e00\u8d77\u6b63\u5e38\u5de5\u4f5c\uff1b\u5176\u4ed6\u4f1a\u963b\u6b62 WebSocket \u6b63\u5e38\u5de5\u4f5c\uff0c\u5bfc\u81f4\u8fde\u63a5\u5931\u8d25\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u9700\u8981\u989d\u5916\u7684\u4ee3\u7406\u670d\u52a1\u5668\u914d\u7f6e\uff0c\u5e76\u4e14\u67d0\u4e9b\u4ee3\u7406\u670d\u52a1\u5668\u53ef\u80fd\u9700\u8981\u5347\u7ea7\u4ee5\u652f\u6301 WebSocket\u3002\n\u5982\u679c\u672a\u52a0\u5bc6\u7684 WebSocket \u6d41\u91cf\u6d41\u7ecf\u6ca1\u6709 WebSocket \u652f\u6301\u7684\u663e\u5f0f\u6216\u900f\u660e\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u5219\u8fde\u63a5\u53ef\u80fd\u4f1a\u5931\u8d25\u3002\n\u5982\u679c\u4f7f\u7528\u52a0\u5bc6\u7684 WebSocket \u8fde\u63a5\uff0c\u5219\u5728 WebSocket \u5b89\u5168\u8fde\u63a5\u4e2d\u4f7f\u7528",(0,a.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Transport_Layer_Security"},"\u4f20\u8f93\u5c42\u5b89\u5168"),"\u6027(TLS) \u53ef\u786e\u4fdd",(0,a.yg)("inlineCode",{parentName:"p"},"HTTP CONNECT"),"\u5728\u5c06\u6d4f\u89c8\u5668\u914d\u7f6e\u4e3a\u4f7f\u7528\u663e\u5f0f\u4ee3\u7406\u670d\u52a1\u5668\u65f6\u53d1\u51fa\u547d\u4ee4\u3002\u8fd9\u4f1a\u5728 WebSocket Secure \u5ba2\u6237\u7aef\u548c WebSocket \u670d\u52a1\u5668\u4e4b\u95f4\u5efa\u7acb\u4e00\u4e2a\u96a7\u9053\uff0c\u901a\u8fc7 HTTP \u4ee3\u7406\u63d0\u4f9b\u4f4e\u7ea7\u522b\u7684\u7aef\u5230\u7aef TCP \u901a\u4fe1\u3002\u5728\u900f\u660e\u4ee3\u7406\u670d\u52a1\u5668\u7684\u60c5\u51b5\u4e0b\uff0c\u6d4f\u89c8\u5668\u4e0d\u77e5\u9053\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u6240\u4ee5\u6ca1\u6709",(0,a.yg)("inlineCode",{parentName:"p"},"HTTP CONNECT"),"\u5df2\u53d1\u9001\u3002\u4f46\u662f\uff0c\u7531\u4e8e\u6709\u7ebf\u6d41\u91cf\u662f\u52a0\u5bc6\u7684\uff0c\u4e2d\u95f4\u900f\u660e\u4ee3\u7406\u670d\u52a1\u5668\u53ef\u80fd\u4f1a\u7b80\u5355\u5730\u5141\u8bb8\u52a0\u5bc6\u6d41\u91cf\u901a\u8fc7\uff0c\u56e0\u6b64\u5982\u679c\u4f7f\u7528 WebSocket Secure\uff0cWebSocket \u8fde\u63a5\u6210\u529f\u7684\u53ef\u80fd\u6027\u4f1a\u5927\u5f97\u591a\u3002\u4f7f\u7528\u52a0\u5bc6\u5e76\u975e\u6ca1\u6709\u8d44\u6e90\u6210\u672c\uff0c\u4f46\u901a\u5e38\u4f1a\u63d0\u4f9b\u6700\u9ad8\u7684\u6210\u529f\u7387\uff0c\u56e0\u4e3a\u5b83\u4f1a\u901a\u8fc7\u5b89\u5168\u96a7\u9053\u3002\n2010 \u5e74\u4e2d\u671f\u7684\u8349\u6848\uff08\u7248\u672c hixie-76\uff09\u6253\u7834\u4e86\u4e0e",(0,a.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Reverse_proxy"},"\u53cd\u5411\u4ee3\u7406"),"\u548c\u7f51\u5173\u7684\u517c\u5bb9\u6027\uff0c\u5728\u6807\u5934\u4e4b\u540e\u5305\u542b 8 \u4e2a\u5b57\u8282\u7684\u5173\u952e\u6570\u636e\uff0c\u4f46\u4e0d\u5728\u6807\u5934\u4e2d\u5ba3\u4f20\u8be5\u6570\u636e",(0,a.yg)("inlineCode",{parentName:"p"},"Content-Length: 8"),"\u3002\u6b64\u6570\u636e\u5e76\u975e\u7531\u6240\u6709\u4e2d\u95f4\u4eba\u8f6c\u53d1\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u534f\u8bae\u5931\u8d25\u3002\u6700\u8fd1\u7684\u8349\u6848\uff08\u4f8b\u5982\uff0chybi-09 \uff09\u5c06\u5173\u952e\u6570\u636e\u653e\u5728",(0,a.yg)("inlineCode",{parentName:"p"},"Sec-WebSocket-Key"),"\u6807\u9898\u4e2d\uff0c\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002")),(0,a.yg)("i",null,"\u5f15\u81ea\uff1a"),(0,a.yg)("em",null,"https://en.wikipedia.org/wiki/WebSocket"),(0,a.yg)("h1",{id:"\u6269\u5c55\u8d44\u6599"},"\u6269\u5c55\u8d44\u6599"),(0,a.yg)("h2",{id:"\u76f8\u5173\u5de5\u5177"},"\u76f8\u5173\u5de5\u5177"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API"},"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://www.asyncapi.com/"},"AsyncAPI"),"\uff1a\u7528\u4e8e\u63cf\u8ff0\u57fa\u4e8e WebSocket \u7b49\u534f\u8bae\u7684\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784\u7684\u89c4\u8303\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u63cf\u8ff0\u57fa\u4e8e WebSocket \u7684 API\uff0c\u5c31\u50cf\u4f7f\u7528 OpenAPI \u89c4\u8303\u63cf\u8ff0 REST API \u4e00\u6837\u3002\u4e86\u89e3\u4e3a\u4ec0\u4e48\u5e94\u8be5\u8003\u8651\u5c06 AsyncAPI \u4e0e WebSocket \u7ed3\u5408\u4f7f\u7528\u4ee5\u53ca\u5982\u4f55\u4f7f\u7528\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://hacks.mozilla.org/2017/06/introducing-humblenet-a-cross-platform-networking-library-that-works-in-the-browser/"},"HumbleNet"),"\uff1a\u4e00\u4e2a\u5728\u6d4f\u89c8\u5668\u4e2d\u5de5\u4f5c\u7684\u8de8\u5e73\u53f0\u7f51\u7edc\u5e93\u3002\u5b83\u7531\u56f4\u7ed5 WebSockets \u548c WebRTC \u7684 C \u5305\u88c5\u5668\u7ec4\u6210\uff0c\u62bd\u8c61\u51fa\u8de8\u6d4f\u89c8\u5668\u7684\u5dee\u5f02\uff0c\u4fc3\u8fdb\u4e3a\u6e38\u620f\u548c\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u591a\u7528\u6237\u7f51\u7edc\u529f\u80fd\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/uNetworking/uWebSockets"},"\xb5WebSockets"),"\uff1a\u7528\u4e8e",(0,a.yg)("a",{parentName:"li",href:"https://isocpp.org/"},"C++11"),"\u548c",(0,a.yg)("a",{parentName:"li",href:"https://nodejs.org/"},"Node.js"),"\u7684\u9ad8\u5ea6\u53ef\u6269\u5c55\u7684 WebSocket \u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u5b9e\u73b0\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://socket.io/"},"Socket.IO")," : \u57fa\u4e8e\u957f\u8f6e\u8be2/WebSocket \u7684",(0,a.yg)("a",{parentName:"li",href:"https://nodejs.org/"},"Node.js"),"\u7b2c\u4e09\u65b9\u4f20\u8f93\u534f\u8bae\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://socketcluster.io/"},"SocketCluster"),": \u7528\u4e8e",(0,a.yg)("a",{parentName:"li",href:"https://nodejs.org/"},"Node.js"),"\u7684 pub/sub WebSocket \u6846\u67b6\uff0c\u4e13\u6ce8\u4e8e\u53ef\u6269\u5c55\u6027\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/theturtle32/WebSocket-Node"},"WebSocket-Node")," : ",(0,a.yg)("a",{parentName:"li",href:"https://nodejs.org/"},"Node.js"),"\u7684 WebSocket \u670d\u52a1\u5668 API \u5b9e\u73b0\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://www.totaljs.com/"},"Total.js")," \uff1a ",(0,a.yg)("a",{parentName:"li",href:"https://nodejs.org/en/"},"Node.js"),"\u7684 Web \u5e94\u7528\u7a0b\u5e8f\u6846\u67b6\uff08\u793a\u4f8b\uff1a",(0,a.yg)("a",{parentName:"li",href:"https://github.com/totaljs/examples/tree/master/websocket"},"WebSocket \u804a\u5929"),"\uff09"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://www.npmjs.com/package/faye-websocket"},"Faye")," \uff1a ",(0,a.yg)("a",{parentName:"li",href:"https://nodejs.org/"},"Node.js"),"\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u7684  ",(0,a.yg)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/WebSocket"},"WebSocket"),"\uff08\u53cc\u5411\u8fde\u63a5\uff09\u548c",(0,a.yg)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/EventSource"},"EventSource"),"\uff08\u5355\u5411\u8fde\u63a5\uff09 \u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://dotnet.microsoft.com/en-us/apps/aspnet/signalr"},"SignalR"),"\uff1aSignalR \u5c06\u5728 WebSockets \u53ef\u7528\u65f6\u5728\u540e\u53f0\u4f7f\u7528\u5b83\uff0c\u5e76\u5728\u5b83\u4e0d\u53ef\u7528\u65f6\u4f18\u96c5\u5730\u56de\u9000\u5230\u5176\u4ed6\u6280\u672f\u548c\u6280\u672f\uff0c\u800c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u4fdd\u6301\u4e0d\u53d8\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://caddyserver.com/"},"Caddy"),"\uff1a\u4e00\u4e2a\u80fd\u591f\u5c06\u4efb\u610f\u547d\u4ee4\uff08stdin/stdout\uff09\u4ee3\u7406\u4e3a websocket \u7684 web \u670d\u52a1\u5668\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/websockets/ws"},"ws")," \uff1a\u4e00\u4e2a\u6d41\u884c\u7684\u7528\u4e8e",(0,a.yg)("a",{parentName:"li",href:"https://nodejs.org/"},"Node.js"),"\u7684 WebSocket \u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u5e93\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/bigstepinc/jsonrpc-bidirectional"},"jsonrpc-bidirectional")," : \u5f02\u6b65 RPC\uff0c\u5728\u5355\u4e2a\u8fde\u63a5\u4e0a\uff0c\u53ef\u80fd\u5728\u670d\u52a1\u5668\u4e0a\u5bfc\u51fa\u529f\u80fd\uff0c\u540c\u65f6\u5728\u5ba2\u6237\u7aef\u4e0a\uff08\u5ba2\u6237\u7aef\u53ef\u80fd\u8c03\u7528\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u4e5f\u53ef\u80fd\u8c03\u7528\u5ba2\u6237\u7aef\uff09\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/ninenines/cowboy"},"cowboy"),"\uff1aCowboy \u662f\u4e00\u4e2a\u5c0f\u578b\u3001\u5feb\u901f\u548c\u73b0\u4ee3\u7684\u7528\u4e8e Erlang/OTP \u7684 HTTP \u670d\u52a1\u5668\uff0c\u652f\u6301 WebSocket\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://websocketking.com/"},"WebSocket King"),"\uff1a\u5e2e\u52a9\u5f00\u53d1\u3001\u6d4b\u8bd5\u548c\u4f7f\u7528 WebSocket \u670d\u52a1\u5668\u7684\u5ba2\u6237\u7aef\u5de5\u5177\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("u",null,"PHP WebSocket Server"),"\uff1a\u7528 PHP \u7f16\u5199\u7684\u670d\u52a1\u5668\uff0c\u7528\u4e8e\u901a\u8fc7 websockets wss:// \u6216 ws:// \u4ee5\u53ca\u901a\u8fc7 ssl:// \u3001tcp:// \u7684\u666e\u901a\u5957\u63a5\u5b57\u5904\u7406\u8fde\u63a5"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://channels.readthedocs.io/en/stable/index.html"},"Channels"),"\uff1aDjango \u5e93\uff0c\u589e\u52a0\u4e86\u5bf9 WebSockets\uff08\u548c\u5176\u4ed6\u9700\u8981\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u5f02\u6b65\u8fde\u63a5\u7684\u534f\u8bae\uff09\u7684\u652f\u6301\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://flask-socketio.readthedocs.io/en/latest/"},"Flask-SocketIO"),"\uff1a\u8ba9 Flask \u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u8bbf\u95ee\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4f4e\u5ef6\u8fdf\u53cc\u5411\u901a\u4fe1\u3002"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://pkg.go.dev/github.com/gorilla/websocket"},"Gorilla WebSocket"),"\uff1aGorilla WebSocket \u662f WebSocket \u534f\u8bae\u7684",(0,a.yg)("a",{parentName:"li",href:"https://go.dev/"},"Go"),"\u5b9e\u73b0\u3002")))}u.isMDXComponent=!0},15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>h});var o=n(96540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=o.createContext({}),c=function(e){var t=o.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(i.Provider,{value:t},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),g=c(n),m=a,h=g["".concat(i,".").concat(m)]||g[m]||u[m]||s;return n?o.createElement(h,r(r({ref:t},p),{},{components:n})):o.createElement(h,r({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,r=new Array(s);r[0]=m;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[g]="string"==typeof e?e:a,r[1]=l;for(var c=2;c<s;c++)r[c]=n[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},21890:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/YnXmbNT1DoU4g0xQeH3c31AGnLe-ebf13bf9f12b425a69cc892df4ffa43c.png"},31120:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/O0ZebzQtIoVX0OxTywTctFltn3q-849b799f4584d25d7ed75ae7c1472018.png"},36484:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/YraUbwTGnoYurfxAkpEcdcHQnZe-2e8ecee04b19e6270e663f3b9b26baa4.png"},57260:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/CUx6bStflor5o5xS1PRcPbf7n4f-9effab863cb8ca4ecb4da63f71c76752.png"},59798:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/DqtSblemAofMEZxmHg6cHiGanDc-60021db689b6c2fac1acded932cb91f0.png"},77578:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/WECGbJYmtobo4QxXsrhcSYGinlh-e71d8fd5221b57914e3796beb681989d.png"},93544:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/A0O1bAQenogmazxqSalcpO0WnFe-1da6dd02a06898f9fe107619717719e5.png"},95862:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/BhyjbDrYkoHYtrxH2Gwcp7oTnve-760deaa106cce2f8408dbebe11ef0543.png"}}]);