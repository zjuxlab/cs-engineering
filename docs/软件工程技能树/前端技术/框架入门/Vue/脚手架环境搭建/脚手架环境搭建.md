---
title: è„šæ‰‹æ¶ç¯å¢ƒæ­å»º
slug: ruan-jian-gong-cheng-ji-neng-shu/qian-duan-ji-shu/kuang-jia-ru-men/vue/jiao-shou-jia-huan-jing-da-jian/jiao-shou-jia-huan-jing-da-jian
sidebar_position: 0
---

# è„šæ‰‹æ¶ç¯å¢ƒæ­å»º

Authorï¼šNA

æœ¬æ–‡è®²ä»‹ç»å¦‚ä½•æ­å»ºä¸€ä¸ªåŸºç¡€çš„ Vue3 å¼€å‘ç¯å¢ƒã€‚æ‰€æœ‰æ“ä½œåŸºäº VS Codeã€‚

# Vite

å¦‚æœè¦æ„å»ºå¤§å‹çš„ Vue åº”ç”¨ç¨‹åºï¼Œå°±éœ€è¦ç”¨åˆ°æ„å»ºå·¥å…·ã€‚è€Œæ—¶ä¸‹æœ€æ–°ã€æœ€æµè¡Œçš„ Vue æ„å»ºå·¥å…·å°±æ˜¯ Viteã€‚å…³äº Vite çš„ä¼˜åŠ¿ï¼Œå¯ä»¥å‚è§ï¼š[ä¸ºä»€ä¹ˆé€‰ Vite](https://cn.vitejs.dev/guide/why.html)

ä½¿ç”¨ Vite æ­å»º Vue é¡¹ç›®éå¸¸ç®€å•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªåä¸º vite-test çš„ Vue3 + ts é¡¹ç›®ï¼Œé‚£ä¹ˆåªéœ€è¦åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š

```shell
npm create vite@latest vite-test -- --template vue-ts
```

å³å¯ã€‚

ä¹‹åè¿›å…¥åˆšåˆšåˆ›å»ºçš„ vite-test æ–‡ä»¶å¤¹ï¼Œè¿è¡Œ `npm i` è£…å¥½éœ€è¦çš„ä¾èµ–ï¼Œå†è¿è¡Œ `npm run dev` å³å¯å¯åŠ¨è°ƒè¯•æœåŠ¡å™¨äº†ã€‚

æ‰“å¼€å‘½ä»¤è¡Œæ˜¾ç¤ºçš„åœ°å€ï¼Œå¦‚æœçœ‹åˆ°çš„æ˜¯å¦‚ä¸‹é¡µé¢ï¼š

<img src="/assets/OhNobW4fHoReipx6Cm6cvcaEnlc.png" src-width="1337" src-height="855" align="center"/>

å¹¶ä¸”ç‚¹å‡»ä¸­é—´æŒ‰é’®å¯ä»¥çœ‹åˆ°æ•°å­—å¢åŠ çš„è¯ï¼Œé‚£ä¹ˆè¯´æ˜ä¸€åˆ‡æ­£å¸¸ã€‚

ä¸‹é¢æ˜¯ Vite çš„å®˜æ–¹æ–‡æ¡£ï¼š

# Volar

Vite å¾ˆå¥½ï¼Œç„¶è€Œåªæœ‰æ„å»ºå·¥å…·æ˜¯ä¸å¤Ÿçš„ã€‚å¦‚æœæ²¡æœ‰è¯­æ³•é«˜äº®å’Œè¯­æ³•æç¤ºï¼Œæˆ‘ä»¬å°†æ¯«æ— å¼€å‘ä½“éªŒğŸ‘‡

<img src="/assets/QFXUbRHOHoYTpax5nXJc8n7VnPd.png" src-width="859" src-height="374" align="center"/>

Volar æ˜¯ä¸€ä¸ªä¸“ä¸º Vue3 å¼€å‘çš„æ’ä»¶ï¼Œå¯ä»¥å¾ˆå¥½åœ°æ”¯æŒ Vue3 è¯­æ³•ä»¥åŠ TypeScriptã€‚

è¦ä¸‹è½½ Volar éå¸¸ç®€å•ï¼Œåªéœ€åœ¨ VS Code çš„æ‰©å±•å•†åº—ä¸­æœç´¢ Volarï¼Œä¸‹è½½ç¬¬ä¸€ä¸ªé€‰é¡¹å³å¯ã€‚

<img src="/assets/AEmSbd6guoXmahxXTMOc9BEonRh.png" src-width="1716" src-height="742" align="center"/>

ä¸‹è½½å®Œæˆåï¼Œæ‰“å¼€ä»»æ„ .vue æ–‡ä»¶ï¼Œåˆ™å¯ä»¥çœ‹åˆ°ç›¸åº”çš„è¯­æ³•é«˜äº®ã€‚

<img src="/assets/XqcLb6yUxoCm5MxwDuIcUEienVf.png" src-width="748" src-height="485" align="center"/>

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ å®‰è£…äº†ä¸º Vue2 é€‚é…çš„ Vetur æ’ä»¶ï¼Œé‚£ä¹ˆéœ€è¦ç¦ç”¨å®ƒä»¥å…å’Œ Volar å‘ç”Ÿå†²çªã€‚

# æŒ‰éœ€è‡ªåŠ¨å¯¼å…¥

ç°åœ¨æˆ‘ä»¬æœ‰äº†è¯­æ³•æç¤ºï¼Œä½†ä»æœ‰ä¸€äº›éº»çƒ¦çš„åœ°æ–¹ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬åƒä½¿ç”¨ `ref`ï¼Œ`reactive` è¿™æ ·çš„ Vue åŸºç¡€ API æ—¶ï¼Œæˆ–æ˜¯å½“æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨ä¸€äº›ç»„ä»¶åº“ä¸­çš„ç»„ä»¶æ—¶ï¼Œè¿˜éœ€è¦æ‰‹åŠ¨å†™ import è¯­å¥ï¼Œååˆ†éº»çƒ¦ã€‚è¿™æ—¶å€™å°±éœ€è¦æŒ‰éœ€è‡ªåŠ¨å¯¼å…¥çš„åº“æ¥å¸®åŠ©æˆ‘ä»¬äº†ã€‚

é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸‹è½½ `unplugin-auto-import` å’Œ `unplugin-vue-components` ä¸¤ä¸ªåº“ï¼Œåˆ†åˆ«ç”¨äºå¯¼å…¥APIå’Œç»„ä»¶ï¼š

```shell
npm i -D unplugin-auto-import
npm i -D unplugin-vue-components
```

ä¹‹åä¿®æ”¹ vite.config.ts æ–‡ä»¶å†…å®¹ï¼Œä¸‹é¢å‡è®¾æˆ‘ä»¬çš„é¡¹ç›®è¿˜ç”¨åˆ°äº† pinia å’Œ Naive-UI:

```ts
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";
import AutoImport from "unplugin-auto-import/vite";
import Components from "unplugin-vue-components/vite";
import { NaiveUiResolver } from "unplugin-vue-components/resolvers";

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    vue(),
    AutoImport({
      imports: [
        "vue",
        "pinia",
      ],      
      dts: "src/auto-import.d.ts",
      eslintrc: {
        enabled: true
      },
    }),
    Components({
      resolvers: [NaiveUiResolver()],
    }),
  ],
});
```

å½“ä½ ä¿å­˜ä¿®æ”¹åï¼Œä½ ä¼šå‘ç°æ–‡ä»¶å¤¹ç›®å½•é‡Œå¤šäº† auto-imports.d.ts å’Œ components.d.ts ä¸¤ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ã€‚æœ‰äº†è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¹‹åæˆ‘ä»¬å†ä½¿ç”¨ `ref` ç­‰ APIï¼Œæˆ–ä½¿ç”¨ Naive-UI ä¸­çš„ç»„ä»¶æ—¶ï¼Œå°±ä¸éœ€è¦æ‰‹åŠ¨å¼•å…¥äº†ã€‚

# ç»„ä»¶åº“ä»£ç è¡¥å…¨

æœ€åè¿˜æœ‰ä¸€ä¸ªå°å°çš„é—®é¢˜ï¼Œå°±æ˜¯å½“æˆ‘ä»¬è¦ä½¿ç”¨ç»„ä»¶åº“çš„ç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›ç¼–è¾‘å™¨èƒ½ä¸ºæˆ‘ä»¬è‡ªåŠ¨è¡¥å…¨ç»„ä»¶åã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘åœ¨ `<template>` æ ‡ç­¾é‡Œæ•²ä¸‹ `NB` æ—¶ï¼Œæˆ‘å¸Œæœ›å®ƒèƒ½è‡ªåŠ¨è·³å‡ºæ¥ `n-button` çš„é€‰é¡¹ï¼Œç„¶è€Œäº‹å®ä¸Šå¹¶æ²¡æœ‰ã€‚

è¿™ä¸ªé—®é¢˜å¾ˆå¥½è§£å†³ã€‚åªè¦æˆ‘ä»¬æ‰¾åˆ°ç»„ä»¶åº“çš„ç±»å‹å®šä¹‰æ–‡ä»¶çš„è·¯å¾„ï¼ˆä¸€èˆ¬å°±åœ¨ç»„ä»¶åº“çš„æ ¹ç›®å½•ï¼‰ï¼Œå¹¶å°†å…¶åŠ å…¥ tsconfig.json æ–‡ä»¶çš„ "include" æ•°ç»„ä¸­ï¼Œå³å¯è®© Volar åœ¨ä»£ç æç¤ºæ—¶å°†ç»„ä»¶åº“çš„å†…å®¹åŠ å…¥è¿›æ¥ã€‚

ä»¥ Naive-UI ä¸ºä¾‹ï¼š

```json
// tsconfig.json
{
  "compilerOptions": ...,
  "include": [
    "src/**/*.ts",
    "src/**/*.d.ts",
    "src/**/*.tsx",
    "src/**/*.vue",
    "node_modules/naive-ui/volar.d.ts"
  ],
  "references": ...
}
```

è¿™æ ·ï¼Œåœ¨ç¼–å†™ä»£ç æ—¶å°±èƒ½æœ‰è¯­æ³•æç¤ºäº†ï¼š

<img src="/assets/WctVbhA0aoCuBOx83dqcRfJxnye.png" src-width="595" src-height="298" align="center"/>

