---
title: WEB3ï¼šåŒºå—é“¾
slug: ruan-jian-gong-cheng-ji-neng-shu/jin-jie-ji-shu/web3-qu-kuai-lian/web3-qu-kuai-lian
sidebar_position: 0
---

# WEB3ï¼šåŒºå—é“¾

Authorï¼šNA

<div class="callout callout-bg-2 callout-border-2">
<div class='callout-emoji'>â—</div>
<p>æœ¬æ–‡çš„ä¸€äº›æ¦‚å¿µæ€§å†…å®¹ä¸ä¸€å®šå¯¹ï¼Œè¯·è¾©è¯å¯¹å¾…</p>
</div>

## å¼•è¨€

> æ¨èé˜…è¯»
> [äº§ä¸šåŒºå—é“¾](https://book.douban.com/subject/35030217/)

åœ¨å…·ä½“è°ˆè®ºweb3ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ˜ç¡®web3ç©¶ç«Ÿæ˜¯ä»€ä¹ˆä¸œè¥¿

å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘è®¤ä¸ºweb3çš„åŸºçŸ³å°±æ˜¯åŒºå—é“¾ï¼Œè€ŒåŒºå—é“¾åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿåœ¨è¿™é‡Œæˆ‘ä»¬å…ˆä¸å…·ä½“é˜è¿°ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“åŒºå—é“¾æä¾›äº†ä»¥ä¸‹ç‰¹æ€§/åŠŸèƒ½

- æ•°æ®ä¸å¯ç¯¡æ”¹
- å»ä¸­å¿ƒåŒ–

è€Œweb3åˆ™æ˜¯åœ¨ä¸Šè¿°ç‰¹æ€§çš„åŸºç¡€ä¸Šè¡ç”Ÿå‡ºçš„ä¸€ç³»åˆ—åº”ç”¨çš„é›†åˆï¼Œå¦‚DAO,NFTï¼Œå„ç§å¸ç­‰ï¼Œåœ¨ä¸‹æ–‡ä¸­ï¼Œæˆ‘å°†web3å®šä¹‰ä¸ºåŸºäºåŒºå—é“¾çš„ä¸€ç³»åˆ—åº”ç”¨

é‚£ä¹ˆweb3çš„ä»·å€¼åˆåœ¨å“ªé‡Œå‘¢ï¼Œæˆ‘ä¸è®¤ä¸ºç°åœ¨è¢«ç‚’çš„ç«çƒ­çš„å„ç§å¸ & NFTç­‰æ˜¯ä¸€ä¸ªæœ‰ä»·å€¼æˆ–è€…è¯´æœ‰æ„ä¹‰çš„æ–¹å‘ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™äº›ä¸œè¥¿æ›´åƒæ˜¯å¥—äº†ä¸€ä¸ªæ–°æ¦‚å¿µçš„èµŒåœº

web3çš„ä»·å€¼ï¼Œå¯èƒ½æ›´å¤šçš„åœ¨äºäº§ä¸šåŒºå—é“¾ä¸Šï¼Œä¸¾ä¾‹è€Œè¨€ï¼Œç°åœ¨åœ¨æ¨å¹¿çš„æ•°å­—äººæ°‘å¸å®é™…ä¸Šå°±æ˜¯åŸºäºè”ç›Ÿé“¾å¼€å‘çš„ï¼ˆè”ç›Ÿé“¾å¯ä»¥ç†è§£ä¸ºåªæœ‰æ•°æ®ä¸å¯ç¯¡æ”¹ç‰¹æ€§çš„åŒºå—é“¾ï¼‰ã€‚åŒºå—é“¾ä¸å¯ç¯¡æ”¹çš„ç‰¹æ€§å¯ä»¥ç¡®ä¿æ•°æ®çš„å®‰å…¨ï¼Œé™ä½ä¿¡ä»»æˆæœ¬ï¼Œæé«˜åŠå…¬æ•ˆç‡ç­‰

å¦å¤–è¿˜å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒåŒºå—é“¾æ‰“é€ çš„å…±è¯†æœºåˆ¶å®é™…ä¸Šä¸ºä¸€ç§å›½é™…è´§å¸çš„è¯ç”Ÿæ‰“ä¸‹äº†åŸºç¡€(e.g. libra)ï¼Œå¯¹äºæ™®é€šå…¬æ°‘æ¥è¯´ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ©è¿™ä¸€ç‚¹åˆ†æ•£é£é™©

## æ€»è§ˆ

web3çš„å®ç°è½½ä½“ï¼Œè¢«ç§°ä¸ºDApp(decentralized application)ï¼Œä¹Ÿå°±æ˜¯å»ä¸­å¿ƒåŒ–çš„åº”ç”¨

åœ¨è¿™ä¸€èŠ‚ï¼Œæˆ‘å°†ä»‹ç»ä¸€ä¸‹DAppçš„æŠ€æœ¯æ ˆ

ä¸ä»¥å‰çš„appçš„å‰åç«¯åˆ’åˆ†ä¸åŒï¼ŒDAppä¸­çš„åç«¯è¢«æ™ºèƒ½åˆçº¦ä»£æ›¿ï¼Œå‰ç«¯æ‰€åšçš„å·¥ä½œåˆ™æ˜¯ä¸æ™ºèƒ½åˆçº¦è¿›è¡Œäº¤äº’

ä»€ä¹ˆæ˜¯æ™ºèƒ½åˆçº¦å‘¢ï¼Œè¦ç†è§£æ™ºèƒ½åˆçº¦æˆ‘ä»¬å°±è¦å…ˆäº†è§£ä¸€ä¸‹ä»¥å¤ªåŠçš„æ¶æ„

> <b>ä»¥å¤ªåŠ</b>ï¼ˆè‹±æ–‡Ethereumï¼‰æ˜¯ä¸€ä¸ª[å¼€æº](https://baike.baidu.com/item/%E5%BC%80%E6%BA%90/246339)çš„æœ‰[æ™ºèƒ½åˆçº¦](https://baike.baidu.com/item/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/19770937)åŠŸèƒ½çš„å…¬å…±[åŒºå—é“¾](https://baike.baidu.com/item/%E5%8C%BA%E5%9D%97%E9%93%BE/13465666)å¹³å°ï¼Œé€šè¿‡å…¶ä¸“ç”¨[åŠ å¯†è´§å¸](https://baike.baidu.com/item/%E5%8A%A0%E5%AF%86%E8%B4%A7%E5%B8%81)[ä»¥å¤ªå¸](https://baike.baidu.com/item/%E4%BB%A5%E5%A4%AA%E5%B8%81/20857686)ï¼ˆEtherï¼Œç®€ç§°â€œETHâ€ï¼‰æä¾›[å»ä¸­å¿ƒåŒ–](https://baike.baidu.com/item/%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96/8719532)çš„ä»¥å¤ª[è™šæ‹Ÿæœº](https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E6%9C%BA/104440)ï¼ˆEthereum Virtual Machineï¼‰æ¥å¤„ç†[ç‚¹å¯¹ç‚¹](https://baike.baidu.com/item/%E7%82%B9%E5%AF%B9%E7%82%B9/7452984)åˆçº¦ã€‚

ä¸ç»å…¸çš„ç”±ä¸­æœ¬èªæå‡ºçš„åŒºå—é“¾æ¶æ„ä¸åŒï¼Œä»¥å¤ªåŠåœ¨åŒºå—ä¸­åŠ å…¥äº†å¯æ‰§è¡Œä»£ç ï¼Œè¿™äº›ä»£ç å¯ä»¥è¢«<b>ä»»ä½•</b>å¤–éƒ¨ç”¨æˆ·è°ƒç”¨ï¼Œå¤–éƒ¨ç”¨æˆ·å¯ä»¥é€šè¿‡è°ƒç”¨è¿™äº›ä»£ç å®Œæˆè½¬è´¦äº¤æ˜“ç­‰åŠŸèƒ½ã€‚è¿™äº›ä»£ç å°±è¢«ç§°ä¸ºæ™ºèƒ½åˆçº¦ï¼Œæ™ºèƒ½åˆçº¦ä¸»è¦ç”±solidityç¼–å†™ï¼Œè´Ÿè´£äº¤æ˜“å‘è¡Œçš„èµ„äº§ä¸å‚¨å­˜é“¾ä¸ŠçŠ¶æ€

å‰ç«¯æ–¹é¢åˆ™å¯ä»¥é€šè¿‡web3.js,wagmiç­‰åº“è°ƒç”¨æ™ºèƒ½åˆçº¦

ä¸ºäº†æ›´å¥½çš„ç†è§£è¿™ä¸€è¿‡ç¨‹ï¼Œä¸‹é¢ä¸¾ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜DAppçš„è¿è¡Œè¿‡ç¨‹ï¼š

å½“ä½ åœ¨ä¸€äº›çœ‹èµ·æ¥å¾ˆé…·çš„ç½‘ç«™ä¸Šä¹°äº†ä¸€ä¸ªçœ‹èµ·æ¥æ›´é…·çš„NFTæ—¶ï¼Œä½ å®é™…ä¸Šæ˜¯ç”¨ä½ çš„è´¦æˆ·å‘ä»¥å¤ªåŠä¸Šçš„ä¸€ä¸ªèŠ‚ç‚¹å‘èµ·äº†ä¸€ä¸ªäº¤æ˜“è¯·æ±‚ï¼Œä»¥å¤ªåŠä¸Šçš„èŠ‚ç‚¹ä¼šå¤„ç†è¿™ä¸ªäº¤æ˜“è¯·æ±‚ï¼Œåœ¨å¤„ç†å®Œè¿™ä¸ªäº¤æ˜“è¯·æ±‚åï¼Œè¿™ä¸ªäº¤æ˜“ä¼šè¢«è®°å½•åˆ°è¿™ä¸ªèŠ‚ç‚¹çš„merkle patriciaæ ‘ä¸Šï¼Œå¹¶è¿”å›äº¤æ˜“å›æ‰§ï¼›ä¸ä¼ ç»Ÿçš„å‰åç«¯æ¶æ„ä¸åŒçš„æ˜¯ï¼Œå½“ä½ åœ¨ç½‘ç«™ä¸Šç‚¹å‡»è´­ä¹°æŒ‰é’®æ—¶ï¼Œå‰ç«¯ä¼šé€šè¿‡web3.jsï¼Œwagmiç­‰åº“è°ƒç”¨é“¾ä¸Šçš„æŸä¸ªæ™ºèƒ½åˆçº¦ï¼Œå¹¶å‘é€äº¤æ˜“è¯·æ±‚

## æœ€ä½³å®è·µ

### å»ºç«‹é¡¹ç›®ç¯å¢ƒ

ç›¸ä¿¡å¤§å®¶å¯¹äºå‰ç«¯ç¼–ç çš„é¡¹ç›®ç¯å¢ƒéƒ½å·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œåœ¨è¿™é‡Œæˆ‘åªä»‹ç»ä¸€ä¸‹ç”¨äºæ™ºèƒ½åˆçº¦ç¼–å†™çš„é¡¹ç›®ç¯å¢ƒï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨hardhatè‡ªåŠ¨åŒ–æ™ºèƒ½åˆçº¦çš„ç¼–è¯‘ï¼Œéƒ¨ç½²ç­‰å·¥ä½œæµç¨‹

æ•´ä¸ªè‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹å¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤

1. ç¼–è¯‘åˆçº¦
2. æµ‹è¯•åˆçº¦
3. éƒ¨ç½²åˆçº¦

ä¸‹é¢æˆ‘ä»¬å°†ä¸€æ­¥æ­¥æ¼”ç¤º

é¦–å…ˆæ–°å»ºä¸€ä¸ªhardhaté¡¹ç›®

```text
npm install --save-dev hardhat
```

è¿è¡Œ`npx hardhat`åˆ›å»ºhardhaté¡¹ç›®ï¼Œä¹‹åæ ¹æ®hardhatçš„æç¤ºè¿›è¡Œä¾èµ–å®‰è£…

<img src="/assets/MWLabr2GIo68sAxgXcNcRdjGn8g.png" src-width="1164" src-height="404" align="center"/>

å®Œæˆé¡¹ç›®åˆ›å»ºåï¼Œä½ å¯ä»¥é€šè¿‡`npx hardhat compile`æ¥ç¼–è¯‘contractsæ–‡ä»¶å¤¹ä¸‹çš„åˆçº¦ä»£ç ï¼Œç¼–è¯‘å‡ºæ¥çš„abiç­‰ä¼šè¢«æ”¾åœ¨`sample\artifacts\contracts`ç›®å½•ä¸‹

ä½ å¯ä»¥è¿è¡Œ`npx hardhat test`æ¥è¿è¡Œtestæ–‡ä»¶å¤¹ä¸‹çš„æµ‹è¯•æ–‡ä»¶ï¼Œæµ‹è¯•é€šè¿‡çš„æ ·ä¾‹å¦‚ä¸‹

<img src="/assets/Fx3LbvazWoxgAqxAmPqctVJknQX.png" src-width="775" src-height="515" align="center"/>

ä½ å¯ä»¥é€šè¿‡`npx hardhat run scripts/deploy.js`è¿è¡Œscriptsç›®å½•ä¸‹çš„deploy.jsæ–‡ä»¶æ¥éƒ¨ç½²ä½ çš„åˆçº¦ï¼Œä¹‹åæˆ‘ä»¬é€šè¿‡`npx hardhat node`å‘½ä»¤åœ¨æœ¬åœ°è¿è¡Œä¸€ä¸ªhardhatæµ‹è¯•ç½‘ç»œï¼Œä½ å¯ä»¥é€šè¿‡`npx hardhat run scripts/deploy.js--network localhost `æŒ‡å®šåˆçº¦éƒ¨ç½²çš„ç½‘ç»œ

è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä»ç¼–è¯‘åˆ°æµ‹è¯•åˆ°éƒ¨ç½²çš„é¡¹ç›®ç¯å¢ƒæ­å»º

### æ™ºèƒ½åˆçº¦å¼€å‘

æ¨èé˜…è¯»

[ä¸€äº›ç»å…¸ä»£ç ](https://github.com/OpenZeppelin/openzeppelin-contracts)

[å®˜ç½‘](https://solidity-cn.readthedocs.io/zh/develop/)

#### æ¦‚è®º

åœ¨è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬å°†å®ç°ä¸€ä¸ªERC20åˆçº¦

<div class="callout callout-bg-2 callout-border-2">
<div class='callout-emoji'>ğŸ’¡</div>
<p>ERC20æ˜¯ä»€ä¹ˆï¼Ÿ</p>
</div>

> ERC-20 æä¾›äº†ä¸€ä¸ªåŒè´¨åŒ–ä»£å¸çš„æ ‡å‡†ï¼Œæ¢å¥è¯è¯´ï¼Œæ¯ä¸ªä»£å¸ä¸å¦ä¸€ä¸ªä»£å¸ï¼ˆåœ¨ç±»å‹å’Œä»·å€¼ä¸Šï¼‰å®Œå…¨ç›¸åŒã€‚ ä¾‹å¦‚ï¼Œä¸€ä¸ª ERC-20 ä»£å¸å°±åƒä»¥å¤ªå¸ä¸€æ ·ï¼Œæ„å‘³ç€ä¸€ä¸ªä»£å¸ä¼šå¹¶æ°¸è¿œä¼šä¸å…¶ä»–ä»£å¸ä¸€æ ·ã€‚

ERC-20ï¼ˆä»¥å¤ªåŠæ„è§å¾æ±‚ 20ï¼‰ç”± Fabian Vogelsteller æå‡ºäº 2015 å¹´ 11 æœˆã€‚è¿™æ˜¯ä¸€ä¸ªèƒ½å®ç°æ™ºèƒ½åˆçº¦ä¸­ä»£å¸çš„åº”ç”¨ç¨‹åºæ¥å£æ ‡å‡†ã€‚

ä»£å¸å¯ä»¥åœ¨ä»¥å¤ªåŠä¸­è¡¨ç¤ºä»»ä½•ä¸œè¥¿ï¼Œå¦‚ï¼š

- åœ¨çº¿å¹³å°ä¸­çš„ä¿¡èª‰ç§¯åˆ†
- åƒç¾å…ƒä¸€æ ·çš„æ³•å®šè´§å¸

ERC-20 çš„åŠŸèƒ½ç¤ºä¾‹åŒ…æ‹¬ï¼š

- å°†ä»£å¸ä»ä¸€ä¸ªå¸æˆ·è½¬åˆ°å¦ä¸€ä¸ªå¸æˆ·
- è·å–å¸æˆ·çš„å½“å‰ä»£å¸ä½™é¢
- è·å–ç½‘ç»œä¸Šå¯ç”¨ä»£å¸çš„æ€»ä¾›åº”é‡
- æ‰¹å‡†ä¸€ä¸ªå¸æˆ·ä¸­ä¸€å®šçš„ä»£å¸é‡‘é¢ç”±ç¬¬ä¸‰æ–¹å¸æˆ·ä½¿ç”¨

ä¸€ä¸ªæ ‡å‡†çš„ERC20åˆçº¦éœ€è¦æœ‰ä»¥ä¸‹å˜é‡ï¼Œæ–¹æ³•ä»¥åŠäº‹ä»¶

```solidity
mapping(address => uint256) private _balances;

mapping(address => mapping(address => uint256)) private _allowances;

uint256 private _totalSupply;

string private _name;
string private _symbol;

function name() public view returns (string)
function symbol() public view returns (string)
function decimals() public view returns (uint8)
function totalSupply() public view returns (uint256)
function balanceOf(address _owner) public view returns (uint256 balance)
function transfer(address _to, uint256 _value) public returns (bool success)
function transferFrom(address _from, address _to, uint256 _value) public returns (bool success)
function approve(address _spender, uint256 _value) public returns (bool success)
function allowance(address _owner, address _spender) public view returns (uint256 remaining)

event Transfer(address indexed _from, address indexed _to, uint256 _value)
event Approval(address indexed _owner, address indexed _spender, uint256 _value)
```

#### å˜é‡

Solidity æ”¯æŒä¸‰ç§ç±»å‹çš„å˜é‡ï¼š

- <b>çŠ¶æ€å˜é‡</b> â€“ å˜é‡å€¼æ°¸ä¹…ä¿å­˜åœ¨åˆçº¦å­˜å‚¨ç©ºé—´ä¸­çš„å˜é‡ã€‚
- <b>å±€éƒ¨å˜é‡</b> â€“ å˜é‡å€¼ä»…åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰æ•ˆçš„å˜é‡ï¼Œå‡½æ•°é€€å‡ºåï¼Œå˜é‡æ— æ•ˆã€‚
- <b>å…¨å±€å˜é‡</b> â€“ ä¿å­˜åœ¨å…¨å±€å‘½åç©ºé—´ï¼Œç”¨äºè·å–åŒºå—é“¾ç›¸å…³ä¿¡æ¯çš„ç‰¹æ®Šå˜é‡ã€‚

Solidity æ˜¯ä¸€ç§é™æ€ç±»å‹è¯­è¨€ï¼Œè¿™æ„å‘³ç€éœ€è¦åœ¨å£°æ˜æœŸé—´æŒ‡å®šå˜é‡ç±»å‹ã€‚æ¯ä¸ªå˜é‡å£°æ˜æ—¶ï¼Œéƒ½æœ‰ä¸€ä¸ªåŸºäºå…¶ç±»å‹çš„é»˜è®¤å€¼ã€‚æ²¡æœ‰`undefined`æˆ–`null`çš„æ¦‚å¿µã€‚

çŠ¶æ€å˜é‡å£°æ˜åœ¨å‡½æ•°é¡¶éƒ¨ï¼Œå®ƒä¼šè¢«å‚¨å­˜åœ¨ä»¥å¤ªåŠåŒºå—é“¾ä¸­ï¼Œæ›´å…·ä½“çš„æ¥è¯´ï¼ŒçŠ¶æ€å˜é‡ä¼šè¢«å‚¨å­˜åœ¨ä»¥å¤ªåŠçš„<b>Merkel Patricia</b>æ ‘ä¸­ï¼Œå½¢æˆå…³äºè¿™ä¸€åŒºå—çš„çŠ¶æ€ä¿¡æ¯

å±€éƒ¨å˜é‡åˆ™å£°æ˜åœ¨å‡½æ•°ä¸­ï¼Œå…¶ä½œç”¨åŸŸé™å®šåœ¨å£°æ˜å®ƒä»¬çš„ä»£ç å—å†…ï¼Œå‡½æ•°é€€å‡ºåï¼Œå±€éƒ¨å˜é‡ä¼šè¢«é”€æ¯

çŠ¶æ€å˜é‡å¯ä»¥åœ¨å£°æ˜æ—¶è¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶ä¸”å…·æœ‰ä»¥ä¸‹å¯è§æ€§ï¼š

- `private`ï¼šçŠ¶æ€å˜é‡ä»…åœ¨å®šä¹‰çš„åˆçº¦é‡Œå¯è§ã€‚
- `public`ï¼šçŠ¶æ€å˜é‡ä¹Ÿå¯ä»¥åœ¨å®šä¹‰åˆçº¦çš„å¤–éƒ¨è®¿é—®ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªä¸è¯¥å˜é‡åŒåçš„getterå‡½æ•°ã€‚
- `internal`ï¼šçŠ¶æ€å˜é‡åœ¨å®šä¹‰çš„åˆçº¦ä»¥åŠæ‰€æœ‰ç»§æ‰¿åˆçº¦éƒ½æ˜¯å¯è§çš„ã€‚

å¯è§æ€§æŒ‡ç¤ºç¬¦æ”¾åœ¨çŠ¶æ€å˜é‡çš„ç±»å‹ä¹‹åï¼Œå¦‚æœæœªæŒ‡å®šï¼Œåˆ™çŠ¶æ€å˜é‡å°†è¢«è§†ä¸º`internal`ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬ç®€è¦ä»‹ç»å…·ä½“çš„å˜é‡ç±»å‹

uint256ï¼Œstringä¹‹ç±»çš„ç›¸ä¿¡å¤§å®¶ä¸€çœ‹å°±æ˜ç™½æ˜¯ä»€ä¹ˆæ„æ€äº†ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåªä»‹ç»ä¸€ä¸‹mappingå’Œaddress

mapping(type1 =&gt; type2)ä»£è¡¨ä»type1åˆ°type2çš„æ˜ å°„ï¼Œå¯ä»¥ç†è§£ä¸ºjsä¸­å¯¹è±¡çš„keyå’Œvalue

addressåˆ™ä»£è¡¨ä¸€ä¸ªåœ°å€ï¼Œç”±äºæ¯ä¸ªè´¦æˆ·éƒ½éœ€è¦æœ‰ä¸€ä¸ªåœ°å€ç”¨äºäº¤æ˜“ï¼Œå› æ­¤åœ°å€åœ¨ä»¥å¤ªåŠä¸­éå¸¸é‡è¦ï¼Œaddresså¤§å°ä¸º20ä¸ªå­—èŠ‚ï¼Œæœ‰160ä½

#### functionä»¥åŠevent

æˆ‘ä»¬é¦–å…ˆä»¥`function name() public view returns (string)`æ¥ç®€è¦ä»‹ç»ä¸€ä¸‹solidityä¸­çš„å‡½æ•°å®šä¹‰

solidityä¸­çš„å‡½æ•°å®šä¹‰éœ€è¦åˆ†ä¸ºä¸‰éƒ¨åˆ†

- è¿”å›å€¼
- å¯è§æ€§
- çŠ¶æ€å¯å˜æ€§

returnså­—æ®µåé¢çš„å°±ä»£è¡¨è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œæ‹¬å·å†…å¯ä»¥æœ‰å¤šä¸ªç±»å‹ï¼Œä»£è¡¨å‡½æ•°è¿”å›å¤šç§ç±»å‹çš„å€¼

solidityå‡½æ•°çš„å¯è§æ€§åˆ†ä¸ºå››ç§

- Privateï¼ˆç§æœ‰ï¼‰ï¼šé™åˆ¶æ€§æœ€å¼ºï¼Œå‡½æ•°åªèƒ½åœ¨æ‰€å®šä¹‰çš„æ™ºèƒ½åˆçº¦å†…éƒ¨è°ƒç”¨ã€‚
- Internalï¼ˆå†…éƒ¨ï¼‰ï¼šå¯ä»¥åœ¨æ‰€å®šä¹‰æ™ºèƒ½åˆçº¦å†…éƒ¨è°ƒç”¨è¯¥å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä»ç»§æ‰¿åˆçº¦ä¸­è°ƒç”¨è¯¥å‡½æ•°ã€‚
- Externalï¼ˆå¤–éƒ¨ï¼‰ï¼šåªèƒ½ä»æ™ºèƒ½åˆçº¦å¤–éƒ¨è°ƒç”¨ã€‚ (å¦‚æœè¦ä»æ™ºèƒ½åˆçº¦ä¸­è°ƒç”¨å®ƒï¼Œåˆ™å¿…é¡»ä½¿ç”¨ `this`ã€‚)
- Publicï¼ˆå…¬å¼€ï¼‰ï¼šå¯ä»¥ä»ä»»ä½•åœ°æ–¹è°ƒç”¨ã€‚ (æœ€å®½æ¾)

solidityçš„çŠ¶æ€å¯å˜æ€§åˆ™åˆ†ä¸ºä¸‰ç§

- viewï¼šç”¨`view`å£°æ˜çš„å‡½æ•°åªèƒ½è¯»å–çŠ¶æ€ï¼Œè€Œä¸èƒ½ä¿®æ”¹çŠ¶æ€ã€‚
- pureï¼šç”¨`pure`å£°æ˜çš„å‡½æ•°æ—¢ä¸èƒ½è¯»å–ä¹Ÿä¸èƒ½ä¿®æ”¹çŠ¶æ€ã€‚
- payableï¼šç”¨`payable`å£°æ˜çš„å‡½æ•°å¯ä»¥æ¥å—å‘é€ç»™åˆçº¦çš„ä»¥å¤ªå¸ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œè¯¥å‡½æ•°å°†è‡ªåŠ¨æ‹’ç»æ‰€æœ‰å‘é€ç»™å®ƒçš„ä»¥å¤ªå¸ã€‚

`function name() public view returns (string)`ä»£è¡¨è¿™ä¸ªå‡½æ•°å¯ä»¥ä»ä»»ä½•åœ°æ–¹è°ƒç”¨ï¼Œåªèƒ½è¯»å–çŠ¶æ€ä¸èƒ½ä¿®æ”¹çŠ¶æ€ï¼Œè¿”å›stringç±»å‹çš„å€¼

æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹eventï¼Œsolidityä¸­çš„eventç”¨äºå‘å‡ºä¸€ä¸ªä¿¡å·ï¼Œè¿™ä¸ªä¿¡å·å¯ä»¥åœ¨å‰ç«¯è¢«ç›‘å¬åˆ°

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨emitæ–¹æ³•è§¦å‘äº‹ä»¶

#### å®æˆ˜

æˆ‘ä»¬åœ¨è¿™é‡Œç›´æ¥ç»™å‡ºnameå‡½æ•°çš„ä»£ç ï¼Œå¹¶å¯¹æ­¤åšå‡ºè§£é‡Š

```solidity
pragma solidity ^0.8.9;

contract ERC20 {
    // ...
    string private  _name;
    // ...
    function name() public view returns (string memory) {
        return _name;
    }
    // ...
}
```

ç¬¬ä¸€è¡Œ`pragma solidity ^0.8.9;`ç¬¬ä¸€è¡Œå°±æ˜¯å‘Šè¯‰å¤§å®¶æºä»£ç ä½¿ç”¨Solidityç‰ˆæœ¬`0.8.9`å†™çš„ï¼Œè¿™æ˜¯ä¸ºäº†ç¡®ä¿åˆçº¦ä¸ä¼šåœ¨æ–°çš„ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸­çªç„¶è¡Œä¸ºå¼‚å¸¸

`contract ERC20 {}`åˆ™å£°æ˜äº†ä¸€ä¸ªåˆçº¦

`string private  _name;`å®šä¹‰äº†ä¸€ä¸ªç±»å‹ä¸ºstringï¼Œå¯è§æ€§ä¸ºprivateçš„å˜é‡

å‡½æ•°é€»è¾‘å°±æ˜¯è¿”å›å®šä¹‰çš„_nameçŠ¶æ€å˜é‡(â—'â—¡'â—)

#### æ€»ç»“

æ€»ä½“ä¸Šæ¥è¯´ERC20çš„å®ç°å¹¶ä¸å›°éš¾ï¼ŒçœŸæ­£éœ€è¦ç†è§£çš„æ˜¯ä¸ºä»€ä¹ˆERC20éœ€è¦æœ‰è¿™äº›å‡½æ•°ä¸äº‹ä»¶ï¼Œå…³äºå…·ä½“çš„ERC20å®ç°ï¼Œä½ å¯ä»¥å‚è€ƒè¿™é‡Œçš„å®ç°

solidityçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µåˆ™å’Œæˆ‘ä»¬ä»¥å‰å­¦è¿‡çš„cï¼Œjsï¼Œtsç­‰éƒ½æœ‰å…±é€šä¹‹å¤„ï¼Œä½†éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ç”±äºæ™ºèƒ½åˆçº¦çš„ä»£ç å‚¨å­˜åœ¨ä»¥å¤ªåŠä¸Šæ‰€å¯¼è‡´çš„ä¸€äº›ç‰¹æ€§(e.g. çŠ¶æ€å˜é‡,gas)

