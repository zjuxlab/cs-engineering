<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-软件工程技能树/后端技术/开发语言/NodeJS/koa2/koa2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">koa2 | CS-Engineering</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-test-site.com/cs-engineering/img/small-logo.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-test-site.com/cs-engineering/img/small-logo.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/cs-engineering/软件工程技能树/后端技术/开发语言/NodeJS/koa2/koa2"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="koa2 | CS-Engineering"><meta data-rh="true" name="description" content="Author: 邱至松"><meta data-rh="true" property="og:description" content="Author: 邱至松"><link data-rh="true" rel="icon" href="/cs-engineering/img/small-logo.svg"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/cs-engineering/软件工程技能树/后端技术/开发语言/NodeJS/koa2/koa2"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/cs-engineering/软件工程技能树/后端技术/开发语言/NodeJS/koa2/koa2" hreflang="zh"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/cs-engineering/软件工程技能树/后端技术/开发语言/NodeJS/koa2/koa2" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/cs-engineering/blog/rss.xml" title="CS-Engineering RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cs-engineering/blog/atom.xml" title="CS-Engineering Atom Feed"><link rel="stylesheet" href="/cs-engineering/assets/css/styles.aab6bb99.css">
<link rel="preload" href="/cs-engineering/assets/js/runtime~main.36cfbaaa.js" as="script">
<link rel="preload" href="/cs-engineering/assets/js/main.c272b5bd.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cs-engineering/"><div class="navbar__logo"><img src="/cs-engineering/img/small-logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/cs-engineering/img/small-logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">CS-Engineering</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cs-engineering/新人必看CS工程指南介绍/gvpywcwokiqophkzxotckxylnld-gvpywc">知识空间</a><a class="navbar__item navbar__link" href="/cs-engineering/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/zjuxlab/cs-engineering" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cs-engineering/新人必看CS工程指南介绍/gvpywcwokiqophkzxotckxylnld-gvpywc">新人必看：CS工程指南介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item software_engineering_sidebar"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/cs-engineering/软件工程技能树/软件工程技能树">软件工程技能树</a><button aria-label="打开/收起侧边栏菜单「软件工程技能树」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed basic_sidebar"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/基础入门/基础入门">基础入门</a><button aria-label="打开/收起侧边栏菜单「基础入门」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed frontend_sidebar"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/前端技术/前端技术">前端技术</a><button aria-label="打开/收起侧边栏菜单「前端技术」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item backend_sidebar"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/后端技术">后端技术</a><button aria-label="打开/收起侧边栏菜单「后端技术」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/后端入门/后端入门">后端入门</a><button aria-label="打开/收起侧边栏菜单「后端入门」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/数据库/数据库">数据库</a><button aria-label="打开/收起侧边栏菜单「数据库」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/开发语言">开发语言</a><button aria-label="打开/收起侧边栏菜单「开发语言」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/Golang/Golang">Golang</a><button aria-label="打开/收起侧边栏菜单「Golang」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/Java/Java">Java</a><button aria-label="打开/收起侧边栏菜单「Java」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/Python/Python">Python</a><button aria-label="打开/收起侧边栏菜单「Python」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/Rust/Rust">Rust</a><button aria-label="打开/收起侧边栏菜单「Rust」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/NodeJS/NodeJS">NodeJS</a><button aria-label="打开/收起侧边栏菜单「NodeJS」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/NodeJS/Express/Express">Express</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/NodeJS/NestJS/NestJS">NestJS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/NodeJS/koa2/koa2">koa2</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/CSharp/C Sharp">C Sharp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/Lua/Lua">Lua</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/Swift/Swift">Swift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/开发语言/Perl/Perl">Perl</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/常见场景/常见场景">常见场景</a><button aria-label="打开/收起侧边栏菜单「常见场景」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/分布式基础/分布式基础">分布式基础</a><button aria-label="打开/收起侧边栏菜单「分布式基础」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/设计框架/设计框架">设计框架</a><button aria-label="打开/收起侧边栏菜单「设计框架」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/后端技术/服务器相关技术/服务器相关技术">服务器相关技术</a><button aria-label="打开/收起侧边栏菜单「服务器相关技术」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed devops_sidebar"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/运营维护/运营维护">运营维护</a><button aria-label="打开/收起侧边栏菜单「运营维护」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed tools_sidebar"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/开发工具/开发工具">开发工具</a><button aria-label="打开/收起侧边栏菜单「开发工具」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed advanced_sidebar"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/cs-engineering/软件工程技能树/进阶技术/进阶技术">进阶技术</a><button aria-label="打开/收起侧边栏菜单「进阶技术」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cs-engineering/软件科研技能树/软件科研技能树">软件科研技能树</a><button aria-label="打开/收起侧边栏菜单「软件科研技能树」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/cs-engineering/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cs-engineering/软件工程技能树/软件工程技能树"><span itemprop="name">软件工程技能树</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cs-engineering/软件工程技能树/后端技术/后端技术"><span itemprop="name">后端技术</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cs-engineering/软件工程技能树/后端技术/开发语言/开发语言"><span itemprop="name">开发语言</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cs-engineering/软件工程技能树/后端技术/开发语言/NodeJS/NodeJS"><span itemprop="name">NodeJS</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">koa2</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>koa2</h1><p>Author: 邱至松</p><blockquote><p>作为只写过前端的人为了写后端而快速入门所写的记录，可能对于后端理解有所错误，还望海涵（）</p></blockquote><blockquote><p>推荐阅读：<a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1099752344192192" target="_blank" rel="noopener noreferrer">koa入门</a> </p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="关于koa2">关于koa2<a href="#关于koa2" class="hash-link" aria-label="关于koa2的直接链接" title="关于koa2的直接链接">​</a></h2><p>关于koa2，这里引用官网的介绍</p><blockquote><p>Koa 是一个新的 web 框架，由 Express 幕后的原班人马打造， 致力于成为 web 应用和 API 开发领域中的一个更小、更富有表现力、更健壮的基石。 通过利用 async 函数，Koa 帮你丢弃回调函数，并有力地增强错误处理。 Koa 并没有捆绑任何中间件， 而是提供了一套优雅的方法，帮助您快速而愉快地编写服务端应用程序。</p></blockquote><p>koa2的安装同样可以参考官网：<a href="https://koa.bootcss.com/" target="_blank" rel="noopener noreferrer">Koa (koajs) -- 基于 Node.js 平台的下一代 web 开发框架 | Koajs 中文文档</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="koa2脚手架">koa2脚手架<a href="#koa2脚手架" class="hash-link" aria-label="koa2脚手架的直接链接" title="koa2脚手架的直接链接">​</a></h2><p>既然是速成，当然少不了脚手架（x，不过koa2的脚手架貌似已经跟不上版本，已经是4年前的产物了，但是现在还能用。</p><p>koa-generator：<a href="https://www.npmjs.com/package/koa-generator" target="_blank" rel="noopener noreferrer">koa-generator</a></p><p>当使用koa-generator创造脚手架后，会出现以下目录</p><p><img loading="lazy" src="/cs-engineering/assets/images/EP0gbKzUVoHNuIx14O4cQRZ9n3b-c59749d10045019e85ebe4c6d6ecca19.png" width="632" height="134" class="img_ev3q"></p><p>app.js中，脚手架已经帮助我们配置了部分内容。</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//导入koa，这里Koa是一个class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Koa</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//app是一个Koa对象，是我们操作的主要对象，</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Koa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//下面是koa2中的中间件对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> views </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa-views&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> json </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa-json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> onerror </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa-onerror&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bodyparser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa-bodyparser&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> logger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa-logger&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//下面是koa2中的路由</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./routes/index&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> users </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./routes/users&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>bin/www是启动入口，本地调试的端口号就可以在里面进行修改，默认是3000，除此之外，我们不需要在特别关注www中的内容</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">normalizePort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PORT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;3000&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//使用listen方法进行监听</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> server </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>routes中存放路由文件，描述api接口的使用</p><p>除此之外，public中存放诸如图片，js文件，css文件等，views中存放一些前端页面，如果我们只提供后台的api的话，可以忽略</p><p>同时，如果我们要使用数据库的话，建议多创造一个文件夹，我这里使用DB文件夹</p><p><img loading="lazy" src="data:image/png;base64,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" width="317" height="172" class="img_ev3q"></p><p>DB文件夹中，我们使用与数据库相关的文件即可，可以使用mongo，sequelize等。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="koa2路由">koa2路由<a href="#koa2路由" class="hash-link" aria-label="koa2路由的直接链接" title="koa2路由的直接链接">​</a></h2><p>上述在app.js中介绍过路由，那我们该怎么使用呢？</p><p>在routes文件夹中，我们可以创造路由的js文件</p><p>首先我们需要引入路由模块</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> router </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa-router&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//注意：引入的方式</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后就可以编写路由了，格式如下，其中，ctx是koa2封装的context对象，会贯穿HTTP请求整个的生命周期，里面包含request对象和response对象，我们比较常用的<code>ctx.body</code>其实就是<code>ctx.response.body</code></p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//这里我们用的post方法，也可以用get</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">post</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/profile/login&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ctx</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在app.js文件中，我们使用路由时需要添加如下代码</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//以./routes/index为例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./routes/index&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">routes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">allowedMethods</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="koa2中间件">koa2中间件<a href="#koa2中间件" class="hash-link" aria-label="koa2中间件的直接链接" title="koa2中间件的直接链接">​</a></h2><p>koa2的中间件选择了洋葱圈模型，即对于一个请求，每个中间件都会执行两次，每个中间件都接收了一个next参数，以next函数为分割点，首先从外向内执行Request的逻辑，然后再从内向外执行Response的逻辑，如下图所示。</p><p><img loading="lazy" src="/cs-engineering/assets/images/K2ZcbreejoQdHfxKxhZcvIazn9f-09d034fc21f9dc0491185df7b6322802.png" width="478" height="435" class="img_ev3q"></p><p>具体的实现则是compose函数，如下所示。具体可参考<a href="https://juejin.cn/post/7205812357876154423" target="_blank" rel="noopener noreferrer">实现洋葱圈模型的三种方法 - 掘金</a></p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">compose</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">middleware</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">context</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// last called middleware #</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 一开始的时候传入为 0，后续会递增</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dispatch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 假如没有递增，则说明执行了多次</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">reject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;next() called multiple times&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 拿到当前的中间件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> fn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> middleware</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> middleware</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> fn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> next</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 当 fn 为空的时候，就会开始执行 next() 后面部分的代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">fn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 执行中间件，留意这两个参数，都是中间件的传参，第一个是上下文，第二个是 next 函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 也就是说执行 next 的时候也就是调用 dispatch 函数的时候</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dispatch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">reject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ok，了解了原理后，我们该怎么使用呢？koa2中间件的使用也十分简单，在app.js中，我们导入我们想使用的中间件，比如日志koa-logger</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//导入</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> logger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa-logger&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//使用，注意函数一定是async的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ctx</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> start </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">next</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//这里就是上述所说的洋葱圈模型的next分割点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ms </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">ctx</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">method</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">ctx</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">url</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> - </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">ms</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">ms</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这里中间件执行逻辑就是request请求发过来后，执行<code>const start = new Date()</code>，然后执行后面的中间件，等到之后的中间件执行完成后，再执行<code>next()</code>之后的内容。</p><p>所以中间件的书写顺序十分重要，并且不要遗漏了<code>await next()</code></p><p>一些比较有用的中间件：koa-cor,koa-jwt</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="koa2使用cookie">koa2使用cookie<a href="#koa2使用cookie" class="hash-link" aria-label="koa2使用cookie的直接链接" title="koa2使用cookie的直接链接">​</a></h2><p>这里我们使用ctx的cookie方法来使用cookie</p><p>比如</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Koa</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;koa&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Koa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token parameter">ctx</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">url</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/index&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">cookies</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&#x27;cid&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&#x27;hello world&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">domain</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 写cookie所在的域名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">path</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/index&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// 写cookie所在的路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">maxAge</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// cookie有效时长</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">expires</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;2017-02-15&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// cookie失效时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">httpOnly</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 是否只用于http请求中获取</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">overwrite</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 是否允许重写</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;cookie is ok&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;hello world&#x27;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;[demo] cookie is starting at port 3000&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="koa2--sequenlize">koa2 + sequenlize<a href="#koa2--sequenlize" class="hash-link" aria-label="koa2 + sequenlize的直接链接" title="koa2 + sequenlize的直接链接">​</a></h2><p>这里我们sequenlize数据库进行一个速成</p><p>在之前所说的DB文件夹中，我们可以形成以下目录</p><p><img loading="lazy" src="data:image/png;base64,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" width="224" height="91" class="img_ev3q"></p><p>其中，model中含有数据库中的各种映射表，config.js则是所连接数据库的信息，sequenlize.js负责连接数据库，operator.js则是对数据库中表的操作。通过<code>module.exports</code>导出对应模块后，我们就可以直接在routes中直接对数据库进行操作了。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/软件工程技能树/后端技术/开发语言/NodeJS/koa2/koa2.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/cs-engineering/软件工程技能树/后端技术/开发语言/NodeJS/NestJS/NestJS"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">NestJS</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cs-engineering/软件工程技能树/后端技术/开发语言/CSharp/C Sharp"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">C Sharp</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#关于koa2" class="table-of-contents__link toc-highlight">关于koa2</a></li><li><a href="#koa2脚手架" class="table-of-contents__link toc-highlight">koa2脚手架</a></li><li><a href="#koa2路由" class="table-of-contents__link toc-highlight">koa2路由</a></li><li><a href="#koa2中间件" class="table-of-contents__link toc-highlight">koa2中间件</a></li><li><a href="#koa2使用cookie" class="table-of-contents__link toc-highlight">koa2使用cookie</a></li><li><a href="#koa2--sequenlize" class="table-of-contents__link toc-highlight">koa2 + sequenlize</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cs-engineering/docs/intro">Tutoria</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cs-engineering/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/zjuxlab/cs-engineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 浙江大学启真交叉学科创新创业实验室, Inc.</div></div></div></footer></div>
<script src="/cs-engineering/assets/js/runtime~main.36cfbaaa.js"></script>
<script src="/cs-engineering/assets/js/main.c272b5bd.js"></script>
</body>
</html>